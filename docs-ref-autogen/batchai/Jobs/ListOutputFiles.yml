### YamlMime:RESTOperation
summary: List all files inside the given output directory (Only if the output directory is on Azure File Share or Azure Storage container).
service: Batch AI
apiVersion: 2017-09-01-preview
groupName: Jobs
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.BatchAI/jobs/{jobName}/listOutputFiles?outputdirectoryid={outputdirectoryid}&api-version=2017-09-01-preview
- content: POST https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.BatchAI/jobs/{jobName}/listOutputFiles?outputdirectoryid={outputdirectoryid}&linkexpiryinminutes={linkexpiryinminutes}&maxresults={maxresults}&api-version=2017-09-01-preview
  isOptional: true
uriParameters:
- in: path
  isRequired: true
  description: The subscriptionID for the Azure user.
  types:
  - uid: string
  name: subscriptionId
- in: path
  isRequired: true
  description: Name of the resource group to which the resource belongs.
  types:
  - uid: string
  pattern: ^[-\w\._]+$
  name: resourceGroupName
- in: path
  isRequired: true
  description: The name of the job within the specified resource group. Job names can only contain a combination of alphanumeric characters along with dash (-) and underscore (_). The name must be from 1 through 64 characters long.
  types:
  - uid: string
  pattern: ^[-\w\._]+$
  name: jobName
- in: query
  isRequired: true
  description: Id of the job output directory. This is the OutputDirectory-->id parameter that is given by the user during Create Job.
  types:
  - uid: string
  name: outputdirectoryid
- in: query
  description: The number of minutes after which the download link will expire.
  types:
  - uid: integer
  format: int32
  name: linkexpiryinminutes
- in: query
  description: The maximum number of items to return in the response. A maximum of 1000 files can be returned.
  types:
  - uid: integer
  format: int32
  name: maxresults
- in: query
  isRequired: true
  description: Specifies the version of API used for this request.
  types:
  - uid: string
  name: api-version
responses:
- description: The operation was successful. The response contains the list of job files.
  types:
  - uid: FileListResult
  name: 200 OK
- description: Error response describing why the operation failed.
  types:
  - uid: CloudError
  name: Other Status Codes
requestHeader: []
definitions:
- name: FileListResult
  description: Values returned by the List operation.
  kind: object
  properties:
  - isReadyOnly: true
    description: Properties of the file.
    types:
    - isArray: true
      uid: File
    name: value
  - description: The continuation token.
    types:
    - uid: string
    name: nextLink
- name: CloudError
  description: An error response from the Batch AI service.
  kind: object
  properties:
  - description: An error response from the Batch AI service.
    types:
    - uid: CloudErrorBody
    name: error
- name: File
  description: Properties of the file.
  kind: object
  properties:
  - description: file name
    types:
    - uid: string
    name: name
  - description: >-
      file downloand url, example: https://mystg.blob.core.windows.net/mycontainer/myModel_1.dnn

      This will be returned only if the model has been archived. During job run, this won't be returned and customers can use SSH tunneling to download. Users can use Get Remote Login Information API to get the IP address and port information of all the compute nodes running the job.
    types:
    - uid: string
    name: downloadUrl
  - description: >-
      The time at which the file was last modified.

      The time at which the file was last modified.
    types:
    - uid: string
    name: properties.lastModified
  - description: >-
      The file size.

      The file size.
    types:
    - uid: integer
    name: properties.contentLength
- name: CloudErrorBody
  description: An error response from the Batch AI service.
  kind: object
  properties:
  - description: An identifier for the error. Codes are invariant and are intended to be consumed programmatically.
    types:
    - uid: string
    name: code
  - description: A message describing the error, intended to be suitable for display in a user interface.
    types:
    - uid: string
    name: message
  - description: The target of the particular error. For example, the name of the property in error.
    types:
    - uid: string
    name: target
  - description: A list of additional details about the error.
    types:
    - isArray: true
      uid: CloudErrorBody
    name: details
examples:
- request:
    uri: POST https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/demo_resource_group/providers/Microsoft.BatchAI/jobs/demo_job/listOutputFiles?outputdirectoryid=stdouterr&api-version=2017-09-01-preview
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "name": "stderr-job_prep.txt",
            "downloadUrl": "https://storage_account_name.file.core.windows.net/share/00000000-0000-0000-0000-000000000000/test_mgmt_batchai_jobs_test_job_preparation_hoste0e613b6/jobs/job/host_prep_stderr.txt?sv=2016-05-31&sr=f&sig=CNPJmjDQT9Anld9%2FdnQ52ZBpfOff2el8r4el6J%2BnpJE%3D&se=2017-09-28T01%3A22%3A35Z&sp=rl",
            "properties": {
              "lastModified": "2017-09-28T00:22:19Z",
              "contentLength": 0
            }
          },
          {
            "name": "stdout-job_prep.txt",
            "downloadUrl": "https://storage_account_name.file.core.windows.net/share/00000000-0000-0000-0000-000000000000/test_mgmt_batchai_jobs_test_job_preparation_hoste0e613b6/jobs/job/host_prep_stdout.txt?sv=2016-05-31&sr=f&sig=yK%2F5acWSTdcmBZGGL9%2F3IqeZ7N%2B1sRXfwB%2FaCkoRS%2Bc%3D&se=2017-09-28T01%3A22%3A35Z&sp=rl",
            "properties": {
              "lastModified": "2017-09-28T00:22:19Z",
              "contentLength": 720
            }
          },
          {
            "name": "stderr.txt",
            "downloadUrl": "https://storage_account_name.file.core.windows.net/share/00000000-0000-0000-0000-000000000000/test_mgmt_batchai_jobs_test_job_preparation_hoste0e613b6/jobs/job/stderr.txt?sv=2016-05-31&sr=f&sig=TdvHhdQjvWWA0Z7aPb0oZpPgGbBPOyDarNXWHFnRS3c%3D&se=2017-09-28T01%3A22%3A35Z&sp=rl",
            "properties": {
              "lastModified": "2017-09-28T00:22:19Z",
              "contentLength": 0
            }
          },
          {
            "name": "stdout.txt",
            "downloadUrl": "https://storage_account_name.file.core.windows.net/share/00000000-0000-0000-0000-000000000000/test_mgmt_batchai_jobs_test_job_preparation_hoste0e613b6/jobs/job/stdout.txt?sv=2016-05-31&sr=f&sig=nyydEjNnYpQfovknJc%2B5G%2F05g0IV4acWKlfkM35lh00%3D&se=2017-09-28T01%3A22%3A35Z&sp=rl",
            "properties": {
              "lastModified": "2017-09-28T00:22:19Z",
              "contentLength": 32
            }
          }
        ]
      }
  name: List a job's files
security:
- type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - description: impersonate your user account
    name: user_impersonation
name: ListOutputFiles
uid: management.azure.com.batchai.jobs.listoutputfiles
