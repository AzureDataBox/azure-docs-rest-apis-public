### YamlMime:RESTOperation
uid: management.azure.com.cost-management.reports.getexecutionhistorybybillingaccount
name: Get Execution History By Billing Account
service: Cost Management
groupName: Reports
apiVersion: 2018-08-01-preview
summary: Gets the execution history of a report for a billing account by report name.
consumes:
- application/json
produces:
- application/json
paths:
- content: GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.CostManagement/reports/{reportName}/runHistory?api-version=2018-08-01-preview
uriParameters:
- name: billingAccountId
  in: path
  isRequired: true
  description: BillingAccount ID
  types:
  - uid: string
- name: reportName
  in: path
  isRequired: true
  description: Report Name.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Version of the API to be used with the client request. The current version is 2018-08-01-preview.
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK. The request has succeeded.
  types:
  - uid: ReportExecutionListResult
- name: Other Status Codes
  description: Error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestHeader: []
definitions:
- name: ReportExecutionListResult
  description: Result of listing reports execution history of a report by name
  kind: object
  properties:
  - name: value
    isReadyOnly: true
    description: The list of report executions.
    types:
    - uid: ReportExecution
      isArray: true
- name: ErrorResponse
  description: Error response indicates that the service is not able to process the incoming request. The reason is provided in the error message.
  kind: object
  properties:
  - name: error
    description: The details of the error.
    types:
    - uid: ErrorDetails
- name: ReportExecution
  description: A report exeuction.
  kind: object
  properties:
  - name: properties.executionType
    description: The type of the report execution.
    types:
    - uid: ExecutionType
  - name: properties.status
    description: The status of the report execution.
    types:
    - uid: ExecutionStatus
  - name: properties.submittedBy
    description: The identifier for the entity that executed the report. For OnDemand executions, it is the email id. For Scheduled executions, it is the constant value - System.
    types:
    - uid: string
  - name: properties.submittedTime
    description: The time when report was queued to be executed.
    types:
    - uid: string
  - name: properties.processingStartTime
    description: The time when report was picked up to be executed.
    types:
    - uid: string
  - name: properties.processingEndTime
    description: The time when report execution finished.
    types:
    - uid: string
  - name: properties.fileName
    description: The name of the file report got written to.
    types:
    - uid: string
  - name: properties.reportSettings
    description: The common properties of the report.
    types:
    - uid: CommonReportProperties
  - name: id
    isReadyOnly: true
    description: Resource Id.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
  - name: tags
    isReadyOnly: true
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: ErrorDetails
  description: The details of the error.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: A machine readable error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: A human readable error message.
    types:
    - uid: string
  - name: target
    description: Indicates which property in the request is responsible for the error.
    types:
    - uid: string
  - name: details
    description: error details.
    types:
    - uid: ErrorBase
      isArray: true
- name: ExecutionType
  description: The type of the report execution.
  kind: enum
  properties:
  - name: OnDemand
    types:
    - uid: string
  - name: Scheduled
    types:
    - uid: string
- name: ExecutionStatus
  description: The status of the report execution.
  kind: enum
  properties:
  - name: Queud
    types:
    - uid: string
  - name: InProgress
    types:
    - uid: string
  - name: Completed
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Timeout
    types:
    - uid: string
- name: CommonReportProperties
  description: The common properties of the report.
  kind: object
  properties:
  - name: format
    description: The format of the report being delivered.
    types:
    - uid: FormatType
  - name: deliveryInfo
    description: Has delivery information for the report.
    types:
    - uid: ReportDeliveryInfo
  - name: definition
    description: Has definition for the report.
    types:
    - uid: ReportDefinition
- name: ErrorBase
  description: The details of the error.
  kind: object
  properties:
  - name: code
    isReadyOnly: true
    description: A machine readable error code.
    types:
    - uid: string
  - name: message
    isReadyOnly: true
    description: A human readable error message.
    types:
    - uid: string
  - name: target
    isReadyOnly: true
    description: Indicates which property in the request is responsible for the error.
    types:
    - uid: string
- name: FormatType
  description: The format of the report being delivered.
  kind: enum
  properties:
  - name: Csv
    types:
    - uid: string
- name: ReportDeliveryInfo
  description: The delivery information associated with a report.
  kind: object
  properties:
  - name: destination
    description: Has destination for the report being delivered.
    types:
    - uid: ReportDeliveryDestination
- name: ReportDefinition
  description: The definition of a report.
  kind: object
  properties:
  - name: type
    description: The type of the report.
    types:
    - uid: ReportType
  - name: timeframe
    description: The time frame for pulling data for the report. If custom, then a specific time period must be provided.
    types:
    - uid: TimeframeType
  - name: timePeriod
    description: Has time period for pulling data for the report.
    types:
    - uid: ReportTimePeriod
  - name: dataset
    description: Has definition for data in this report.
    types:
    - uid: ReportDataset
- name: ReportDeliveryDestination
  description: The destination information for the delivery of the report.
  kind: object
  properties:
  - name: resourceId
    description: The resource id of the storage account where reports will be delivered.
    types:
    - uid: string
  - name: container
    description: The name of the container where reports will be uploaded.
    types:
    - uid: string
  - name: rootFolderPath
    description: The name of the directory where reports will be uploaded.
    types:
    - uid: string
- name: ReportType
  description: The type of the report.
  kind: enum
  properties:
  - name: Usage
    types:
    - uid: string
- name: TimeframeType
  description: The time frame for pulling data for the report. If custom, then a specific time period must be provided.
  kind: enum
  properties:
  - name: WeekToDate
    types:
    - uid: string
  - name: MonthToDate
    types:
    - uid: string
  - name: Custom
    types:
    - uid: string
- name: ReportTimePeriod
  description: The start and end date for pulling data for the report.
  kind: object
  properties:
  - name: from
    description: The start date to pull data from.
    types:
    - uid: string
  - name: to
    description: The end date to pull data to.
    types:
    - uid: string
- name: ReportDataset
  description: The definition of data present in the report.
  kind: object
  properties:
  - name: granularity
    description: The granularity of rows in the report.
    types:
    - uid: GranularityType
  - name: configuration
    description: Has configuration information for the data in the report. The configuration will be ignored if aggregation and grouping are provided.
    types:
    - uid: ReportDatasetConfiguration
  - name: aggregation
    description: Dictionary of aggregation expression to use in the report. The key of each item in the dictionary is the alias for the aggregated column. Report can have upto 2 aggregation clauses.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: ReportAggregation
  - name: grouping
    description: Array of group by expression to use in the report. Report can have upto 2 group by clauses.
    types:
    - uid: ReportGrouping
      isArray: true
  - name: filter
    description: Has filter expression to use in the report.
    types:
    - uid: ReportFilter
- name: GranularityType
  description: The granularity of rows in the report.
  kind: enum
  properties:
  - name: Daily
    types:
    - uid: string
- name: ReportDatasetConfiguration
  description: The configuration of dataset in the report.
  kind: object
  properties:
  - name: columns
    description: Array of column names to be included in the report. Any valid report column name is allowed. If not provided, then report includes all columns.
    types:
    - uid: string
      isArray: true
- name: ReportAggregation
  description: The aggregation expression to be used in the report.
  kind: object
  properties:
  - name: name
    description: The name of the column to aggregate.
    types:
    - uid: string
  - name: function
    description: The name of the aggregation function to use.
    types:
    - uid: FunctionType
- name: ReportGrouping
  description: The group by expression to be used in the report.
  kind: object
  properties:
  - name: type
    description: Has type of the column to group.
    types:
    - uid: ReportColumnType
  - name: name
    description: The name of the column to group.
    types:
    - uid: string
- name: ReportFilter
  description: The filter expression to be used in the report.
  kind: object
  properties:
  - name: and
    description: The logical "AND" expression. Must have atleast 2 items.
    types:
    - uid: ReportFilter
      isArray: true
  - name: or
    description: The logical "OR" expression. Must have atleast 2 items.
    types:
    - uid: ReportFilter
      isArray: true
  - name: not
    description: The logical "NOT" expression.
    types:
    - uid: ReportFilter
  - name: dimension
    description: Has comparison expression for a dimension
    types:
    - uid: ReportComparisonExpression
  - name: tag
    description: Has comparison expression for a tag
    types:
    - uid: ReportComparisonExpression
- name: FunctionType
  description: The name of the aggregation function to use.
  kind: enum
  properties:
  - name: Sum
    types:
    - uid: string
- name: ReportColumnType
  description: The type of the column in the report.
  kind: enum
  properties:
  - name: Tag
    types:
    - uid: string
  - name: Dimension
    types:
    - uid: string
- name: ReportComparisonExpression
  description: The comparison expression to be used in the report.
  kind: object
  properties:
  - name: name
    description: The name of the column to use in comaprison.
    types:
    - uid: string
  - name: operator
    description: The operator to use for comparison.
    types:
    - uid: OperatorType
  - name: values
    description: Array of values to use for comparison
    types:
    - uid: string
      isArray: true
- name: OperatorType
  description: The operator to use for comparison.
  kind: enum
  properties:
  - name: In
    types:
    - uid: string
examples:
- name: ExecutionHistoryReport
  request:
    uri: GET https://management.azure.com/providers/Microsoft.Billing/billingAccounts/123456/providers/Microsoft.CostManagement/reports/TestReport/runHistory?api-version=2018-08-01-preview
  responses:
  - statusCode: "200"
    body: >-
      {
        "value": [
          {
            "id": "providers/Microsoft.Billing/billingAccounts/{billingAccount-id}/providers/Microsoft.CostManagement/reports/JohnDoeSchedule/Run/1e25d58a-a3b0-4916-9542-6e04a89bc100",
            "properties": {
              "executionType": "OnDemand",
              "status": "Completed",
              "submittedBy": "john.doe@gmail.com",
              "submittedTime": "2018-08-03T07:52:15.6016681Z",
              "processingStartTime": "2018-08-03T07:52:16.9123797Z",
              "processingEndTime": "2018-08-03T07:52:28.0373318Z",
              "fileName": "ScheduledTestsForJohnDoe/JohnDoeSchedule/20180729-20180804/JohnDoeSchedule_1e25d58a-a3b0-4916-9542-6e04a89bc100.csv",
              "reportSettings": {
                "format": "Csv",
                "deliveryInfo": {
                  "destination": {
                    "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Storage/storageAccounts/ccmeastusdiag182",
                    "container": "reports",
                    "rootFolderPath": "ScheduledTestsForJohnDoe"
                  }
                },
                "definition": {
                  "type": "Usage",
                  "timeframe": "Custom",
                  "timePeriod": {
                    "from": "2018-06-01T00:00:00Z",
                    "to": "2018-10-31T00:00:00Z"
                  },
                  "dataset": {
                    "granularity": "Daily",
                    "configuration": {
                      "columns": [
                        "Date",
                        "MeterId",
                        "InstanceId",
                        "ResourceLocation",
                        "PreTaxCost"
                      ]
                    },
                    "aggregation": {
                      "costSum": {
                        "name": "PreTaxCost",
                        "function": "Sum"
                      }
                    },
                    "grouping": [
                      {
                        "type": "Dimension",
                        "name": "SubscriptionName"
                      }
                    ],
                    "filter": {
                      "and": [
                        {
                          "or": [
                            {
                              "dimension": {
                                "name": "ResourceLocation",
                                "operator": "In",
                                "values": [
                                  "East US",
                                  "West Europe"
                                ]
                              }
                            },
                            {
                              "tag": {
                                "name": "Environment",
                                "operator": "In",
                                "values": [
                                  "UAT",
                                  "Prod"
                                ]
                              }
                            }
                          ]
                        },
                        {
                          "dimension": {
                            "name": "ResourceGroup",
                            "operator": "In",
                            "values": [
                              "API"
                            ]
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          {
            "id": "providers/Microsoft.Billing/billingAccounts/{billingAccount-id}/providers/Microsoft.CostManagement/reports/JohnDoeSchedule/Run/11ac6811-dca3-46ad-b326-4704cf0c58ef",
            "properties": {
              "executionType": "Scheduled",
              "status": "Completed",
              "submittedBy": "System",
              "submittedTime": "2018-08-03T09:03:58.5710244Z",
              "processingStartTime": "2018-08-03T09:03:58.5710244Z",
              "processingEndTime": "2018-08-03T09:04:19.7223808Z",
              "fileName": "ScheduledTestsForJohnDoe/JohnDoeSchedule/20180729-20180804/JohnDoeSchedule_11ac6811-dca3-46ad-b326-4704cf0c58ef.csv",
              "reportSettings": {
                "format": "Csv",
                "deliveryInfo": {
                  "destination": {
                    "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Storage/storageAccounts/ccmeastusdiag182",
                    "container": "reports",
                    "rootFolderPath": "ScheduledTestsForJohnDoe"
                  }
                },
                "definition": {
                  "type": "Usage",
                  "timeframe": "Custom",
                  "timePeriod": {
                    "from": "2018-06-01T00:00:00Z",
                    "to": "2018-10-31T00:00:00Z"
                  },
                  "dataset": {
                    "granularity": "Daily",
                    "configuration": {
                      "columns": [
                        "Date",
                        "MeterId",
                        "InstanceId",
                        "ResourceLocation",
                        "PreTaxCost"
                      ]
                    },
                    "aggregation": {
                      "costSum": {
                        "name": "PreTaxCost",
                        "function": "Sum"
                      }
                    },
                    "grouping": [
                      {
                        "type": "Dimension",
                        "name": "SubscriptionName"
                      }
                    ],
                    "filter": {
                      "and": [
                        {
                          "or": [
                            {
                              "dimension": {
                                "name": "ResourceLocation",
                                "operator": "In",
                                "values": [
                                  "East US",
                                  "West Europe"
                                ]
                              }
                            },
                            {
                              "tag": {
                                "name": "Environment",
                                "operator": "In",
                                "values": [
                                  "UAT",
                                  "Prod"
                                ]
                              }
                            }
                          ]
                        },
                        {
                          "dimension": {
                            "name": "ResourceGroup",
                            "operator": "In",
                            "values": [
                              "API"
                            ]
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        ]
      }
security:
- type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
