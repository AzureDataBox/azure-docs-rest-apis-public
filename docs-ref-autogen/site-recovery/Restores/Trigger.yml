### YamlMime:RESTOperation
summary: Restores the specified backup data. This is an asynchronous operation. To know the status of this API call, use GetProtectedItemOperationResult API.
service: Recovery Services - Backup
apiVersion: 2016-06-01
groupName: Restores
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://management.azure.com/Subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.RecoveryServices/vaults/{vaultName}/backupFabrics/{fabricName}/protectionContainers/{containerName}/protectedItems/{protectedItemName}/recoveryPoints/{recoveryPointId}/restore?api-version=2016-06-01
uriParameters:
- in: path
  isRequired: true
  description: The subscription ID.
  types:
  - uid: string
  name: subscriptionId
- in: path
  isRequired: true
  description: The name of the resource group associated with the Recovery Services vault.
  types:
  - uid: string
  name: resourceGroupName
- in: path
  isRequired: true
  description: The name of the Recovery Services vault.
  types:
  - uid: string
  name: vaultName
- in: path
  isRequired: true
  description: The fabric name associated with the backup items.
  types:
  - uid: string
  name: fabricName
- in: path
  isRequired: true
  description: The container name associated with the backup items.
  types:
  - uid: string
  name: containerName
- in: path
  isRequired: true
  description: The backup item to be restored.
  types:
  - uid: string
  name: protectedItemName
- in: path
  isRequired: true
  description: The recovery point ID for the backup data to be restored.
  types:
  - uid: string
  name: recoveryPointId
- in: query
  isRequired: true
  description: Client API version.
  types:
  - uid: string
  name: api-version
responses:
- description: The data restore operation was accepted.
  name: 202 Accepted
requestBody:
- parameters:
  - in: body
    description: The base class for restore requests. Workload-specific restore requests are derived from this class.
    types:
    - uid: IaasVMRestoreRequest
    typesTitle: RestoreRequest
    name: properties
  - in: body
    description: Resource ID represents the complete path to the resource.
    types:
    - uid: string
    name: id
  - in: body
    description: Resource name associated with the resource.
    types:
    - uid: string
    name: name
  - in: body
    description: Resource type represents the complete path of the form Namespace/ResourceType/ResourceType/...
    types:
    - uid: string
    name: type
  - in: body
    description: Resource location.
    types:
    - uid: string
    name: location
  - in: body
    description: Resource tags.
    types:
    - isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
      uid: object
    name: tags
  - in: body
    description: Optional ETag.
    types:
    - uid: string
    name: eTag
requestHeader: []
definitions:
- name: RestoreRequestResource
  description: The base class for a restore request. Workload-specific restore requests are derived from this class.
  kind: object
  properties:
  - description: The base class for restore requests. Workload-specific restore requests are derived from this class.
    types:
    - uid: IaasVMRestoreRequest
    typesTitle: RestoreRequest
    name: properties
  - description: Resource ID represents the complete path to the resource.
    types:
    - uid: string
    name: id
  - description: Resource name associated with the resource.
    types:
    - uid: string
    name: name
  - description: Resource type represents the complete path of the form Namespace/ResourceType/ResourceType/...
    types:
    - uid: string
    name: type
  - description: Resource location.
    types:
    - uid: string
    name: location
  - description: Resource tags.
    types:
    - isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
      uid: object
    name: tags
  - description: Optional ETag.
    types:
    - uid: string
    name: eTag
- name: IaasVMRestoreRequest
  description: IaaS VM workload-specific restore.
  kind: object
  properties:
  - description: The ID of the backup copy to be recovered.
    types:
    - uid: string
    name: recoveryPointId
  - description: The type of this recovery.
    types:
    - uid: RecoveryType
    name: recoveryType
  - description: The fully qualified Resource Manager ID of the VM being recovered.
    types:
    - uid: string
    name: sourceResourceId
  - description: >-
      The complete Resource Manager ID of the VM that will be created.

                  For example: /subscriptions/{subId}/resourcegroups/{rg}/provider/Microsoft.Compute/virtualmachines/{vm}
    types:
    - uid: string
    name: targetVirtualMachineId
  - description: >-
      The Resource Manager ID of the resource group you're creating for this VM and other artifacts.

          For example: /subscriptions/{subId}/resourcegroups/{rg}
    types:
    - uid: string
    name: targetResourceGroupId
  - description: The fully qualified Resource Manager ID of the storage account where the VM will be restored.
    types:
    - uid: string
    name: storageAccountId
  - description: >-
      This is the virtual network ID of the vnet that is attached to the virtual machine.

                  Your join action permissions are validated during the linked access.
    types:
    - uid: string
    name: virtualNetworkId
  - description: Subnet ID is the identifier for the VM to be restored. For Classic VMs the subnet ID would be {VnetID}/Subnet/{SubnetName}, and for the Resource Manager VMs, the subnet ID would be the Resource Manager resource ID used to represent the subnet.
    types:
    - uid: string
    name: subnetId
  - description: The fully qualified Resource Manager ID of the domain name to be associated with the VM being restored. Use the Resource Manager ID to identify the domain, only for Classic-deployed virtual machines.
    types:
    - uid: string
    name: targetDomainNameId
  - description: The region where the virtual machine is restored.
    types:
    - uid: string
    name: region
  - description: The affinity group associated with the VM to be restored. Affinity groups are used only for Classic-deployed virtual machines.
    types:
    - uid: string
    name: affinityGroup
  - description: Asks the question if a new cloud service should be created while restoring the VM. If the answer is false, the VM is restored to the same cloud service.
    types:
    - uid: boolean
    name: createNewCloudService
  - description: If the VM was encrypted at the time of backup, these details are needed.
    types:
    - uid: EncryptionDetails
    name: encryptionDetails
  - description: This property is used as the discriminator for deciding the specific types in the polymorhpic chain of types.
    types:
    - uid: IaasVMRestoreRequest
    typesTitle: string
    name: objectType
- name: RecoveryType
  description: The type of this recovery.
  kind: enum
  properties:
  - types:
    - uid: string
    name: Invalid
  - types:
    - uid: string
    name: OriginalLocation
  - types:
    - uid: string
    name: AlternateLocation
  - types:
    - uid: string
    name: RestoreDisks
- name: EncryptionDetails
  description: If the VM was encrypted at the time of backup, these details are needed.
  kind: object
  properties:
  - description: Identifies whether the backup copy represents an encrypted VM at the time of backup.
    types:
    - uid: boolean
    name: encryptionEnabled
  - description: URL of the Key Encryption Key (KEK).
    types:
    - uid: string
    name: kekUrl
  - description: URL of the Bitlocker Encryption Key (BEK).
    types:
    - uid: string
    name: secretKeyUrl
  - description: The ID of Key Vault where the Key Encryption Key (KEK) is stored.
    types:
    - uid: string
    name: kekVaultId
  - description: The ID of Key Vault where the Bitlocker Encryption Key (BEK), or Secret, is stored.
    types:
    - uid: string
    name: secretKeyVaultId
examples: []
security:
- type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - description: impersonate your user account.
    name: user_impersonation
name: Trigger
uid: management.azure.com.recoveryservices-backup.restores.trigger
