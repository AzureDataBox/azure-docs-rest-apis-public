### YamlMime:RESTOperation
uid: management.azure.com.servicebus.topics.createorupdate
name: Create Or Update
service: Service Bus
groupName: Topics
apiVersion: 2017-04-01
summary: Creates a topic in the specified namespace.
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ServiceBus/namespaces/{namespaceName}/topics/{topicName}?api-version=2017-04-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: Subscription credentials that uniquely identify a Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: Name of the Resource group within the Azure subscription.
  types:
  - uid: string
- name: namespaceName
  in: path
  isRequired: true
  description: The namespace name
  types:
  - uid: string
- name: topicName
  in: path
  isRequired: true
  description: The topic name.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client API version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: Topic successfully created.
  types:
  - uid: SBTopic
- name: Other Status Codes
  description: ServiceBus error response describing why the operation failed.
  types:
  - uid: ErrorResponse
requestBody:
- parameters:
  - name: properties.defaultMessageTimeToLive
    in: body
    description: "  \nISO 8601 Default message timespan to live value. This is the duration after which the message expires, starting from when the message is sent to Service Bus. This is the default value used when TimeToLive is not set on a message itself."
    types:
    - uid: string
  - name: properties.maxSizeInMegabytes
    in: body
    description: "  \nMaximum size of the topic in megabytes, which is the size of the memory allocated for the topic. Default is 1024."
    types:
    - uid: integer
  - name: properties.requiresDuplicateDetection
    in: body
    description: "  \nValue indicating if this topic requires duplicate detection."
    types:
    - uid: boolean
  - name: properties.duplicateDetectionHistoryTimeWindow
    in: body
    description: "  \nISO8601 timespan structure that defines the duration of the duplicate detection history. The default value is 10 minutes."
    types:
    - uid: string
  - name: properties.enableBatchedOperations
    in: body
    description: "  \nValue that indicates whether server-side batched operations are enabled."
    types:
    - uid: boolean
  - name: properties.status
    in: body
    description: "  \nEnumerates the possible values for the status of a messaging entity."
    types:
    - uid: EntityStatus
  - name: properties.supportOrdering
    in: body
    description: "  \nValue that indicates whether the topic supports ordering."
    types:
    - uid: boolean
  - name: properties.autoDeleteOnIdle
    in: body
    description: "  \nISO 8601 timespan idle interval after which the topic is automatically deleted. The minimum duration is 5 minutes."
    types:
    - uid: string
  - name: properties.enablePartitioning
    in: body
    description: "  \nValue that indicates whether the topic to be partitioned across multiple message brokers is enabled."
    types:
    - uid: boolean
  - name: properties.enableExpress
    in: body
    description: "  \nValue that indicates whether Express Entities are enabled. An express topic holds a message in memory temporarily before writing it to persistent storage."
    types:
    - uid: boolean
requestHeader: []
definitions:
- name: MessageCountDetails
  description: Message Count Details.
  kind: object
  properties:
  - name: activeMessageCount
    isReadyOnly: true
    description: "  \nNumber of active messages in the queue, topic, or subscription."
    types:
    - uid: integer
  - name: deadLetterMessageCount
    isReadyOnly: true
    description: "  \nNumber of messages that are dead lettered."
    types:
    - uid: integer
  - name: scheduledMessageCount
    isReadyOnly: true
    description: "  \nNumber of scheduled messages."
    types:
    - uid: integer
  - name: transferMessageCount
    isReadyOnly: true
    description: "  \nNumber of messages transferred to another queue, topic, or subscription."
    types:
    - uid: integer
  - name: transferDeadLetterMessageCount
    isReadyOnly: true
    description: "  \nNumber of messages transferred into dead letters."
    types:
    - uid: integer
- name: SBTopic
  description: Result of the List Topics operation.
  kind: object
  properties:
  - name: properties.sizeInBytes
    isReadyOnly: true
    description: "  \nSize of the topic, in bytes."
    types:
    - uid: integer
  - name: properties.createdAt
    isReadyOnly: true
    description: "  \nExact time the message was created."
    types:
    - uid: string
  - name: properties.updatedAt
    isReadyOnly: true
    description: "  \nThe exact time the message was updated."
    types:
    - uid: string
  - name: properties.accessedAt
    isReadyOnly: true
    description: "  \nLast time the message was sent, or a request was received, for this topic."
    types:
    - uid: string
  - name: properties.subscriptionCount
    isReadyOnly: true
    description: "  \nNumber of subscriptions."
    types:
    - uid: integer
  - name: properties.countDetails
    isReadyOnly: true
    description: "  \nMessage count deatils"
    types:
    - uid: MessageCountDetails
  - name: properties.defaultMessageTimeToLive
    description: "  \nISO 8601 Default message timespan to live value. This is the duration after which the message expires, starting from when the message is sent to Service Bus. This is the default value used when TimeToLive is not set on a message itself."
    types:
    - uid: string
  - name: properties.maxSizeInMegabytes
    description: "  \nMaximum size of the topic in megabytes, which is the size of the memory allocated for the topic. Default is 1024."
    types:
    - uid: integer
  - name: properties.requiresDuplicateDetection
    description: "  \nValue indicating if this topic requires duplicate detection."
    types:
    - uid: boolean
  - name: properties.duplicateDetectionHistoryTimeWindow
    description: "  \nISO8601 timespan structure that defines the duration of the duplicate detection history. The default value is 10 minutes."
    types:
    - uid: string
  - name: properties.enableBatchedOperations
    description: "  \nValue that indicates whether server-side batched operations are enabled."
    types:
    - uid: boolean
  - name: properties.status
    description: "  \nEnumerates the possible values for the status of a messaging entity."
    types:
    - uid: EntityStatus
  - name: properties.supportOrdering
    description: "  \nValue that indicates whether the topic supports ordering."
    types:
    - uid: boolean
  - name: properties.autoDeleteOnIdle
    description: "  \nISO 8601 timespan idle interval after which the topic is automatically deleted. The minimum duration is 5 minutes."
    types:
    - uid: string
  - name: properties.enablePartitioning
    description: "  \nValue that indicates whether the topic to be partitioned across multiple message brokers is enabled."
    types:
    - uid: boolean
  - name: properties.enableExpress
    description: "  \nValue that indicates whether Express Entities are enabled. An express topic holds a message in memory temporarily before writing it to persistent storage."
    types:
    - uid: boolean
  - name: id
    isReadyOnly: true
    description: "  \nResource Id"
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: "  \nResource name"
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: "  \nResource type"
    types:
    - uid: string
- name: ErrorResponse
  description: Error reponse indicates ServiceBus service is not able to process the incoming request. The reason is provided in the error message.
  kind: object
  properties:
  - name: code
    description: "  \nError code."
    types:
    - uid: string
  - name: message
    description: "  \nError message indicating why the operation failed."
    types:
    - uid: string
- name: EntityStatus
  description: Enumerates the possible values for the status of a messaging entity.
  kind: enum
  properties:
  - name: Active
    types:
    - uid: string
  - name: Disabled
    types:
    - uid: string
  - name: Restoring
    types:
    - uid: string
  - name: SendDisabled
    types:
    - uid: string
  - name: ReceiveDisabled
    types:
    - uid: string
  - name: Creating
    types:
    - uid: string
  - name: Deleting
    types:
    - uid: string
  - name: Renaming
    types:
    - uid: string
  - name: Unknown
    types:
    - uid: string
examples:
- name: TopicCreate
  request:
    uri: PUT https://management.azure.com/subscriptions/5f750a97-50d9-4e36-8081-c9ee4c0210d4/resourceGroups/ArunMonocle/providers/Microsoft.ServiceBus/namespaces/sdk-Namespace-1617/topics/sdk-Topics-5488?api-version=2017-04-01
    body: >-
      {
        "properties": {
          "enableExpress": true
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/5f750a97-50d9-4e36-8081-c9ee4c0210d4/resourceGroups/ArunMonocle/providers/Microsoft.ServiceBus/namespaces/sdk-Namespace-1617/topics/sdk-Topics-5488",
        "name": "sdk-Topics-5488",
        "type": "Microsoft.ServiceBus/Namespaces/Topics",
        "properties": {
          "defaultMessageTimeToLive": "P10675199DT2H48M5.4775807S",
          "maxSizeInMegabytes": 10240,
          "requiresDuplicateDetection": false,
          "duplicateDetectionHistoryTimeWindow": "PT10M",
          "enableBatchedOperations": true,
          "sizeInBytes": 0,
          "status": "Active",
          "supportOrdering": true,
          "autoDeleteOnIdle": "P10675199DT2H48M5.4775807S",
          "enablePartitioning": false,
          "enableExpress": true,
          "createdAt": "2017-05-26T20:50:34.1Z",
          "updatedAt": "2017-05-26T20:50:34.32Z",
          "accessedAt": "2017-05-26T20:50:34.32Z",
          "subscriptionCount": 0
        }
      }
security:
- type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
