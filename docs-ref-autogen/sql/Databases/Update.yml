### YamlMime:RESTOperation
summary: Updates an existing database.
service: SQL Database
apiVersion: 2014-04-01
groupName: Databases
consumes:
- application/json
produces:
- application/json
paths:
- content: PATCH https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}?api-version=2014-04-01
uriParameters:
- in: path
  isRequired: true
  description: The subscription ID that identifies an Azure subscription.
  types:
  - uid: string
  name: subscriptionId
- in: path
  isRequired: true
  description: The name of the resource group that contains the resource. You can obtain this value from the Azure Resource Manager API or the portal.
  types:
  - uid: string
  name: resourceGroupName
- in: path
  isRequired: true
  description: The name of the server.
  types:
  - uid: string
  name: serverName
- in: path
  isRequired: true
  description: The name of the database to be updated.
  types:
  - uid: string
  name: databaseName
- in: query
  isRequired: true
  description: The API version to use for the request.
  types:
  - uid: string
  name: api-version
responses:
- description: OK
  types:
  - uid: Database
  name: 200 OK
- description: Accepted
  name: 202 Accepted
requestBody:
- parameters:
  - in: body
    description: Resource tags.
    types:
    - isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
      uid: object
    name: tags
  - in: body
    description: The collation of the database. If createMode is not Default, this value is ignored.
    types:
    - uid: string
    name: properties.collation
  - in: body
    description: >-
      Specifies the mode of database creation.


      Default: regular database creation.


      Copy: creates a database as a copy of an existing database. sourceDatabaseId must be specified as the resource ID of the source database.


      OnlineSecondary/NonReadableSecondary: creates a database as a (readable or nonreadable) secondary replica of an existing database. sourceDatabaseId must be specified as the resource ID of the existing primary database.


      PointInTimeRestore: Creates a database by restoring a point in time backup of an existing database. sourceDatabaseId must be specified as the resource ID of the existing database, and restorePointInTime must be specified.


      Recovery: Creates a database by restoring a geo-replicated backup. sourceDatabaseId must be specified as the recoverable database resource ID to restore.


      Restore: Creates a database by restoring a backup of a deleted database. sourceDatabaseId must be specified. If sourceDatabaseId is the database's original resource ID, then sourceDatabaseDeletionDate must be specified. Otherwise sourceDatabaseId must be the restorable dropped database resource ID and sourceDatabaseDeletionDate is ignored. restorePointInTime may also be specified to restore from an earlier point in time.


      RestoreLongTermRetentionBackup: Creates a database by restoring from a long term retention vault. recoveryServicesRecoveryPointResourceId must be specified as the recovery point resource ID.


      Copy, NonReadableSecondary, OnlineSecondary and RestoreLongTermRetentionBackup are not supported for DataWarehouse edition.
    types:
    - uid: CreateMode
    name: properties.createMode
  - in: body
    description: Conditional. If createMode is Copy, NonReadableSecondary, OnlineSecondary, PointInTimeRestore, Recovery, or Restore, then this value is required. Specifies the resource ID of the source database. If createMode is NonReadableSecondary or OnlineSecondary, the name of the source database must be the same as the new database being created.
    types:
    - uid: string
    name: properties.sourceDatabaseId
  - in: body
    description: Conditional. If createMode is Restore and sourceDatabaseId is the deleted database's original resource id when it existed (as opposed to its current restorable dropped database id), then this value is required. Specifies the time that the database was deleted.
    types:
    - uid: string
    name: properties.sourceDatabaseDeletionDate
  - in: body
    description: Conditional. If createMode is PointInTimeRestore, this value is required. If createMode is Restore, this value is optional. Specifies the point in time (ISO8601 format) of the source database that will be restored to create the new database. Must be greater than or equal to the source database's earliestRestoreDate value.
    types:
    - uid: string
    name: properties.restorePointInTime
  - in: body
    description: Conditional. If createMode is RestoreLongTermRetentionBackup, then this value is required. Specifies the resource ID of the recovery point to restore from.
    types:
    - uid: string
    name: properties.recoveryServicesRecoveryPointResourceId
  - in: body
    description: 'The edition of the database. The DatabaseEditions enumeration contains all the valid editions. If createMode is NonReadableSecondary or OnlineSecondary, this value is ignored. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions -l westus --query [].name` .'
    types:
    - uid: DatabaseEdition
    name: properties.edition
  - in: body
    description: 'The max size of the database expressed in bytes. If createMode is not Default, this value is ignored. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation."'
    types:
    - uid: string
    name: properties.maxSizeBytes
  - in: body
    description: 'The configured service level objective ID of the database. This is the service level objective that is in the process of being applied to the database. Once successfully updated, it will match the value of currentServiceObjectiveId property. If requestedServiceObjectiveId and requestedServiceObjectiveName are both updated, the value of requestedServiceObjectiveId overrides the value of requestedServiceObjectiveName. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions --location <location> --query [].supportedServiceLevelObjectives[].name` .'
    types:
    - uid: string
    name: properties.requestedServiceObjectiveId
  - in: body
    description: 'The name of the configured service level objective of the database. This is the service level objective that is in the process of being applied to the database. Once successfully updated, it will match the value of serviceLevelObjective property. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions --location <location> --query [].supportedServiceLevelObjectives[].name` .'
    types:
    - uid: ServiceObjectiveName
    name: properties.requestedServiceObjectiveName
  - in: body
    description: The name of the elastic pool the database is in. If elasticPoolName and requestedServiceObjectiveName are both updated, the value of requestedServiceObjectiveName is ignored. Not supported for DataWarehouse edition.
    types:
    - uid: string
    name: properties.elasticPoolName
  - in: body
    description: Conditional. If the database is a geo-secondary, readScale indicates whether read-only connections are allowed to this database or not. Not supported for DataWarehouse edition.
    types:
    - uid: ReadScale
    name: properties.readScale
  - in: body
    description: Indicates the name of the sample schema to apply when creating this database. If createMode is not Default, this value is ignored. Not supported for DataWarehouse edition.
    types:
    - uid: SampleName
    name: properties.sampleName
  - in: body
    description: Whether or not this database is zone redundant, which means the replicas of this database will be spread across multiple availability zones.
    types:
    - uid: boolean
    name: properties.zoneRedundant
requestHeader: []
definitions:
- name: ServiceTierAdvisor
  description: The list of service tier advisors for this database. Expanded property
  kind: object
  properties:
  - isReadyOnly: true
    description: The observation period start (ISO8601 format).
    types:
    - uid: string
    name: properties.observationPeriodStart
  - isReadyOnly: true
    description: The observation period start (ISO8601 format).
    types:
    - uid: string
    name: properties.observationPeriodEnd
  - isReadyOnly: true
    description: The activeTimeRatio for service tier advisor.
    types:
    - uid: number
    name: properties.activeTimeRatio
  - isReadyOnly: true
    description: Gets or sets minDtu for service tier advisor.
    types:
    - uid: number
    name: properties.minDtu
  - isReadyOnly: true
    description: Gets or sets avgDtu for service tier advisor.
    types:
    - uid: number
    name: properties.avgDtu
  - isReadyOnly: true
    description: Gets or sets maxDtu for service tier advisor.
    types:
    - uid: number
    name: properties.maxDtu
  - isReadyOnly: true
    description: Gets or sets maxSizeInGB for service tier advisor.
    types:
    - uid: number
    name: properties.maxSizeInGB
  - isReadyOnly: true
    description: A Slo Usage Metric.
    types:
    - isArray: true
      uid: SloUsageMetric
    name: properties.serviceLevelObjectiveUsageMetrics
  - isReadyOnly: true
    description: Gets or sets currentServiceLevelObjective for service tier advisor.
    types:
    - uid: string
    name: properties.currentServiceLevelObjective
  - isReadyOnly: true
    description: Gets or sets currentServiceLevelObjectiveId for service tier advisor.
    types:
    - uid: string
    name: properties.currentServiceLevelObjectiveId
  - isReadyOnly: true
    description: Gets or sets usageBasedRecommendationServiceLevelObjective for service tier advisor.
    types:
    - uid: string
    name: properties.usageBasedRecommendationServiceLevelObjective
  - isReadyOnly: true
    description: Gets or sets usageBasedRecommendationServiceLevelObjectiveId for service tier advisor.
    types:
    - uid: string
    name: properties.usageBasedRecommendationServiceLevelObjectiveId
  - isReadyOnly: true
    description: Gets or sets databaseSizeBasedRecommendationServiceLevelObjective for service tier advisor.
    types:
    - uid: string
    name: properties.databaseSizeBasedRecommendationServiceLevelObjective
  - isReadyOnly: true
    description: Gets or sets databaseSizeBasedRecommendationServiceLevelObjectiveId for service tier advisor.
    types:
    - uid: string
    name: properties.databaseSizeBasedRecommendationServiceLevelObjectiveId
  - isReadyOnly: true
    description: Gets or sets disasterPlanBasedRecommendationServiceLevelObjective for service tier advisor.
    types:
    - uid: string
    name: properties.disasterPlanBasedRecommendationServiceLevelObjective
  - isReadyOnly: true
    description: Gets or sets disasterPlanBasedRecommendationServiceLevelObjectiveId for service tier advisor.
    types:
    - uid: string
    name: properties.disasterPlanBasedRecommendationServiceLevelObjectiveId
  - isReadyOnly: true
    description: Gets or sets overallRecommendationServiceLevelObjective for service tier advisor.
    types:
    - uid: string
    name: properties.overallRecommendationServiceLevelObjective
  - isReadyOnly: true
    description: Gets or sets overallRecommendationServiceLevelObjectiveId for service tier advisor.
    types:
    - uid: string
    name: properties.overallRecommendationServiceLevelObjectiveId
  - isReadyOnly: true
    description: Gets or sets confidence for service tier advisor.
    types:
    - uid: number
    name: properties.confidence
  - isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
    name: id
  - isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
    name: name
  - isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
    name: type
- name: TransparentDataEncryption
  description: The transparent data encryption info for this database.
  kind: object
  properties:
  - isReadyOnly: true
    description: Resource location.
    types:
    - uid: string
    name: location
  - description: The status of the database transparent data encryption.
    types:
    - uid: TransparentDataEncryptionStatus
    name: properties.status
  - isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
    name: id
  - isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
    name: name
  - isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
    name: type
- name: RecommendedIndex
  description: The recommended indices for this database.
  kind: object
  properties:
  - isReadyOnly: true
    description: The proposed index action. You can create a missing index, drop an unused index, or rebuild an existing index to improve its performance.
    types:
    - uid: RecommendedIndexAction
    name: properties.action
  - isReadyOnly: true
    description: The current recommendation state.
    types:
    - uid: RecommendedIndexState
    name: properties.state
  - isReadyOnly: true
    description: The UTC datetime showing when this resource was created (ISO8601 format).
    types:
    - uid: string
    name: properties.created
  - isReadyOnly: true
    description: The UTC datetime of when was this resource last changed (ISO8601 format).
    types:
    - uid: string
    name: properties.lastModified
  - isReadyOnly: true
    description: The type of index (CLUSTERED, NONCLUSTERED, COLUMNSTORE, CLUSTERED COLUMNSTORE)
    types:
    - uid: RecommendedIndexType
    name: properties.indexType
  - isReadyOnly: true
    description: The schema where table to build index over resides
    types:
    - uid: string
    name: properties.schema
  - isReadyOnly: true
    description: The table on which to build index.
    types:
    - uid: string
    name: properties.table
  - isReadyOnly: true
    description: Columns over which to build index
    types:
    - isArray: true
      uid: string
    name: properties.columns
  - isReadyOnly: true
    description: The list of column names to be included in the index
    types:
    - isArray: true
      uid: string
    name: properties.includedColumns
  - isReadyOnly: true
    description: The full build index script
    types:
    - uid: string
    name: properties.indexScript
  - isReadyOnly: true
    description: The impact of an operation, both in absolute and relative terms.
    types:
    - isArray: true
      uid: OperationImpact
    name: properties.estimatedImpact
  - isReadyOnly: true
    description: The impact of an operation, both in absolute and relative terms.
    types:
    - isArray: true
      uid: OperationImpact
    name: properties.reportedImpact
  - isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
    name: id
  - isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
    name: name
  - isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
    name: type
- name: Database
  description: The list of databases in this pool. Expanded property
  kind: object
  properties:
  - isReadyOnly: true
    description: Kind of database.  This is metadata used for the Azure portal experience.
    types:
    - uid: string
    name: kind
  - description: The collation of the database. If createMode is not Default, this value is ignored.
    types:
    - uid: string
    name: properties.collation
  - isReadyOnly: true
    description: The creation date of the database (ISO8601 format).
    types:
    - uid: string
    name: properties.creationDate
  - isReadyOnly: true
    description: The containment state of the database.
    types:
    - uid: integer
    name: properties.containmentState
  - isReadyOnly: true
    description: The current service level objective ID of the database. This is the ID of the service level objective that is currently active.
    types:
    - uid: string
    name: properties.currentServiceObjectiveId
  - isReadyOnly: true
    description: The ID of the database.
    types:
    - uid: string
    name: properties.databaseId
  - isReadyOnly: true
    description: This records the earliest start date and time that restore is available for this database (ISO8601 format).
    types:
    - uid: string
    name: properties.earliestRestoreDate
  - description: >-
      Specifies the mode of database creation.


      Default: regular database creation.


      Copy: creates a database as a copy of an existing database. sourceDatabaseId must be specified as the resource ID of the source database.


      OnlineSecondary/NonReadableSecondary: creates a database as a (readable or nonreadable) secondary replica of an existing database. sourceDatabaseId must be specified as the resource ID of the existing primary database.


      PointInTimeRestore: Creates a database by restoring a point in time backup of an existing database. sourceDatabaseId must be specified as the resource ID of the existing database, and restorePointInTime must be specified.


      Recovery: Creates a database by restoring a geo-replicated backup. sourceDatabaseId must be specified as the recoverable database resource ID to restore.


      Restore: Creates a database by restoring a backup of a deleted database. sourceDatabaseId must be specified. If sourceDatabaseId is the database's original resource ID, then sourceDatabaseDeletionDate must be specified. Otherwise sourceDatabaseId must be the restorable dropped database resource ID and sourceDatabaseDeletionDate is ignored. restorePointInTime may also be specified to restore from an earlier point in time.


      RestoreLongTermRetentionBackup: Creates a database by restoring from a long term retention vault. recoveryServicesRecoveryPointResourceId must be specified as the recovery point resource ID.


      Copy, NonReadableSecondary, OnlineSecondary and RestoreLongTermRetentionBackup are not supported for DataWarehouse edition.
    types:
    - uid: CreateMode
    name: properties.createMode
  - description: Conditional. If createMode is Copy, NonReadableSecondary, OnlineSecondary, PointInTimeRestore, Recovery, or Restore, then this value is required. Specifies the resource ID of the source database. If createMode is NonReadableSecondary or OnlineSecondary, the name of the source database must be the same as the new database being created.
    types:
    - uid: string
    name: properties.sourceDatabaseId
  - description: Conditional. If createMode is Restore and sourceDatabaseId is the deleted database's original resource id when it existed (as opposed to its current restorable dropped database id), then this value is required. Specifies the time that the database was deleted.
    types:
    - uid: string
    name: properties.sourceDatabaseDeletionDate
  - description: Conditional. If createMode is PointInTimeRestore, this value is required. If createMode is Restore, this value is optional. Specifies the point in time (ISO8601 format) of the source database that will be restored to create the new database. Must be greater than or equal to the source database's earliestRestoreDate value.
    types:
    - uid: string
    name: properties.restorePointInTime
  - description: Conditional. If createMode is RestoreLongTermRetentionBackup, then this value is required. Specifies the resource ID of the recovery point to restore from.
    types:
    - uid: string
    name: properties.recoveryServicesRecoveryPointResourceId
  - description: 'The edition of the database. The DatabaseEditions enumeration contains all the valid editions. If createMode is NonReadableSecondary or OnlineSecondary, this value is ignored. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions -l westus --query [].name` .'
    types:
    - uid: DatabaseEdition
    name: properties.edition
  - description: 'The max size of the database expressed in bytes. If createMode is not Default, this value is ignored. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation."'
    types:
    - uid: string
    name: properties.maxSizeBytes
  - description: 'The configured service level objective ID of the database. This is the service level objective that is in the process of being applied to the database. Once successfully updated, it will match the value of currentServiceObjectiveId property. If requestedServiceObjectiveId and requestedServiceObjectiveName are both updated, the value of requestedServiceObjectiveId overrides the value of requestedServiceObjectiveName. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions --location <location> --query [].supportedServiceLevelObjectives[].name` .'
    types:
    - uid: string
    name: properties.requestedServiceObjectiveId
  - description: 'The name of the configured service level objective of the database. This is the service level objective that is in the process of being applied to the database. Once successfully updated, it will match the value of serviceLevelObjective property. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions --location <location> --query [].supportedServiceLevelObjectives[].name` .'
    types:
    - uid: ServiceObjectiveName
    name: properties.requestedServiceObjectiveName
  - isReadyOnly: true
    description: The current service level objective of the database.
    types:
    - uid: ServiceObjectiveName
    name: properties.serviceLevelObjective
  - isReadyOnly: true
    description: The status of the database.
    types:
    - uid: string
    name: properties.status
  - description: The name of the elastic pool the database is in. If elasticPoolName and requestedServiceObjectiveName are both updated, the value of requestedServiceObjectiveName is ignored. Not supported for DataWarehouse edition.
    types:
    - uid: string
    name: properties.elasticPoolName
  - isReadyOnly: true
    description: The default secondary region for this database.
    types:
    - uid: string
    name: properties.defaultSecondaryLocation
  - isReadyOnly: true
    description: Represents a Service Tier Advisor.
    types:
    - isArray: true
      uid: ServiceTierAdvisor
    name: properties.serviceTierAdvisors
  - isReadyOnly: true
    description: Represents a database transparent data encryption configuration.
    types:
    - isArray: true
      uid: TransparentDataEncryption
    name: properties.transparentDataEncryption
  - isReadyOnly: true
    description: Represents a database recommended index.
    types:
    - isArray: true
      uid: RecommendedIndex
    name: properties.recommendedIndex
  - isReadyOnly: true
    description: The resource identifier of the failover group containing this database.
    types:
    - uid: string
    name: properties.failoverGroupId
  - description: Conditional. If the database is a geo-secondary, readScale indicates whether read-only connections are allowed to this database or not. Not supported for DataWarehouse edition.
    types:
    - uid: ReadScale
    name: properties.readScale
  - description: Indicates the name of the sample schema to apply when creating this database. If createMode is not Default, this value is ignored. Not supported for DataWarehouse edition.
    types:
    - uid: SampleName
    name: properties.sampleName
  - description: Whether or not this database is zone redundant, which means the replicas of this database will be spread across multiple availability zones.
    types:
    - uid: boolean
    name: properties.zoneRedundant
  - description: Resource tags.
    types:
    - isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
      uid: object
    name: tags
  - description: Resource location.
    types:
    - uid: string
    name: location
  - isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
    name: id
  - isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
    name: name
  - isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
    name: type
- name: DatabaseUpdate
  description: Represents a database update.
  kind: object
  properties:
  - description: Resource tags.
    types:
    - isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
      uid: object
    name: tags
  - description: The collation of the database. If createMode is not Default, this value is ignored.
    types:
    - uid: string
    name: properties.collation
  - isReadyOnly: true
    description: The creation date of the database (ISO8601 format).
    types:
    - uid: string
    name: properties.creationDate
  - isReadyOnly: true
    description: The containment state of the database.
    types:
    - uid: integer
    name: properties.containmentState
  - isReadyOnly: true
    description: The current service level objective ID of the database. This is the ID of the service level objective that is currently active.
    types:
    - uid: string
    name: properties.currentServiceObjectiveId
  - isReadyOnly: true
    description: The ID of the database.
    types:
    - uid: string
    name: properties.databaseId
  - isReadyOnly: true
    description: This records the earliest start date and time that restore is available for this database (ISO8601 format).
    types:
    - uid: string
    name: properties.earliestRestoreDate
  - description: >-
      Specifies the mode of database creation.


      Default: regular database creation.


      Copy: creates a database as a copy of an existing database. sourceDatabaseId must be specified as the resource ID of the source database.


      OnlineSecondary/NonReadableSecondary: creates a database as a (readable or nonreadable) secondary replica of an existing database. sourceDatabaseId must be specified as the resource ID of the existing primary database.


      PointInTimeRestore: Creates a database by restoring a point in time backup of an existing database. sourceDatabaseId must be specified as the resource ID of the existing database, and restorePointInTime must be specified.


      Recovery: Creates a database by restoring a geo-replicated backup. sourceDatabaseId must be specified as the recoverable database resource ID to restore.


      Restore: Creates a database by restoring a backup of a deleted database. sourceDatabaseId must be specified. If sourceDatabaseId is the database's original resource ID, then sourceDatabaseDeletionDate must be specified. Otherwise sourceDatabaseId must be the restorable dropped database resource ID and sourceDatabaseDeletionDate is ignored. restorePointInTime may also be specified to restore from an earlier point in time.


      RestoreLongTermRetentionBackup: Creates a database by restoring from a long term retention vault. recoveryServicesRecoveryPointResourceId must be specified as the recovery point resource ID.


      Copy, NonReadableSecondary, OnlineSecondary and RestoreLongTermRetentionBackup are not supported for DataWarehouse edition.
    types:
    - uid: CreateMode
    name: properties.createMode
  - description: Conditional. If createMode is Copy, NonReadableSecondary, OnlineSecondary, PointInTimeRestore, Recovery, or Restore, then this value is required. Specifies the resource ID of the source database. If createMode is NonReadableSecondary or OnlineSecondary, the name of the source database must be the same as the new database being created.
    types:
    - uid: string
    name: properties.sourceDatabaseId
  - description: Conditional. If createMode is Restore and sourceDatabaseId is the deleted database's original resource id when it existed (as opposed to its current restorable dropped database id), then this value is required. Specifies the time that the database was deleted.
    types:
    - uid: string
    name: properties.sourceDatabaseDeletionDate
  - description: Conditional. If createMode is PointInTimeRestore, this value is required. If createMode is Restore, this value is optional. Specifies the point in time (ISO8601 format) of the source database that will be restored to create the new database. Must be greater than or equal to the source database's earliestRestoreDate value.
    types:
    - uid: string
    name: properties.restorePointInTime
  - description: Conditional. If createMode is RestoreLongTermRetentionBackup, then this value is required. Specifies the resource ID of the recovery point to restore from.
    types:
    - uid: string
    name: properties.recoveryServicesRecoveryPointResourceId
  - description: 'The edition of the database. The DatabaseEditions enumeration contains all the valid editions. If createMode is NonReadableSecondary or OnlineSecondary, this value is ignored. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions -l westus --query [].name` .'
    types:
    - uid: DatabaseEdition
    name: properties.edition
  - description: 'The max size of the database expressed in bytes. If createMode is not Default, this value is ignored. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation."'
    types:
    - uid: string
    name: properties.maxSizeBytes
  - description: 'The configured service level objective ID of the database. This is the service level objective that is in the process of being applied to the database. Once successfully updated, it will match the value of currentServiceObjectiveId property. If requestedServiceObjectiveId and requestedServiceObjectiveName are both updated, the value of requestedServiceObjectiveId overrides the value of requestedServiceObjectiveName. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions --location <location> --query [].supportedServiceLevelObjectives[].name` .'
    types:
    - uid: string
    name: properties.requestedServiceObjectiveId
  - description: 'The name of the configured service level objective of the database. This is the service level objective that is in the process of being applied to the database. Once successfully updated, it will match the value of serviceLevelObjective property. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions --location <location> --query [].supportedServiceLevelObjectives[].name` .'
    types:
    - uid: ServiceObjectiveName
    name: properties.requestedServiceObjectiveName
  - isReadyOnly: true
    description: The current service level objective of the database.
    types:
    - uid: ServiceObjectiveName
    name: properties.serviceLevelObjective
  - isReadyOnly: true
    description: The status of the database.
    types:
    - uid: string
    name: properties.status
  - description: The name of the elastic pool the database is in. If elasticPoolName and requestedServiceObjectiveName are both updated, the value of requestedServiceObjectiveName is ignored. Not supported for DataWarehouse edition.
    types:
    - uid: string
    name: properties.elasticPoolName
  - isReadyOnly: true
    description: The default secondary region for this database.
    types:
    - uid: string
    name: properties.defaultSecondaryLocation
  - isReadyOnly: true
    description: Represents a Service Tier Advisor.
    types:
    - isArray: true
      uid: ServiceTierAdvisor
    name: properties.serviceTierAdvisors
  - isReadyOnly: true
    description: Represents a database transparent data encryption configuration.
    types:
    - isArray: true
      uid: TransparentDataEncryption
    name: properties.transparentDataEncryption
  - isReadyOnly: true
    description: Represents a database recommended index.
    types:
    - isArray: true
      uid: RecommendedIndex
    name: properties.recommendedIndex
  - isReadyOnly: true
    description: The resource identifier of the failover group containing this database.
    types:
    - uid: string
    name: properties.failoverGroupId
  - description: Conditional. If the database is a geo-secondary, readScale indicates whether read-only connections are allowed to this database or not. Not supported for DataWarehouse edition.
    types:
    - uid: ReadScale
    name: properties.readScale
  - description: Indicates the name of the sample schema to apply when creating this database. If createMode is not Default, this value is ignored. Not supported for DataWarehouse edition.
    types:
    - uid: SampleName
    name: properties.sampleName
  - description: Whether or not this database is zone redundant, which means the replicas of this database will be spread across multiple availability zones.
    types:
    - uid: boolean
    name: properties.zoneRedundant
  - isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
    name: id
  - isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
    name: name
  - isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
    name: type
- name: SloUsageMetric
  description: Gets or sets serviceLevelObjectiveUsageMetrics for the service tier advisor.
  kind: object
  properties:
  - isReadyOnly: true
    description: The serviceLevelObjective for SLO usage metric.
    types:
    - uid: ServiceObjectiveName
    name: serviceLevelObjective
  - isReadyOnly: true
    description: The serviceLevelObjectiveId for SLO usage metric.
    types:
    - uid: string
    name: serviceLevelObjectiveId
  - isReadyOnly: true
    description: Gets or sets inRangeTimeRatio for SLO usage metric.
    types:
    - uid: number
    name: inRangeTimeRatio
- name: TransparentDataEncryptionStatus
  description: The status of the database transparent data encryption.
  kind: enum
  properties:
  - types:
    - uid: string
    name: Enabled
  - types:
    - uid: string
    name: Disabled
- name: RecommendedIndexAction
  description: The proposed index action. You can create a missing index, drop an unused index, or rebuild an existing index to improve its performance.
  kind: enum
  properties:
  - types:
    - uid: string
    name: Create
  - types:
    - uid: string
    name: Drop
  - types:
    - uid: string
    name: Rebuild
- name: RecommendedIndexState
  description: The current recommendation state.
  kind: enum
  properties:
  - types:
    - uid: string
    name: Active
  - types:
    - uid: string
    name: Pending
  - types:
    - uid: string
    name: Executing
  - types:
    - uid: string
    name: Verifying
  - types:
    - uid: string
    name: Pending Revert
  - types:
    - uid: string
    name: Reverting
  - types:
    - uid: string
    name: Reverted
  - types:
    - uid: string
    name: Ignored
  - types:
    - uid: string
    name: Expired
  - types:
    - uid: string
    name: Blocked
  - types:
    - uid: string
    name: Success
- name: RecommendedIndexType
  description: The type of index (CLUSTERED, NONCLUSTERED, COLUMNSTORE, CLUSTERED COLUMNSTORE)
  kind: enum
  properties:
  - types:
    - uid: string
    name: CLUSTERED
  - types:
    - uid: string
    name: NONCLUSTERED
  - types:
    - uid: string
    name: COLUMNSTORE
  - types:
    - uid: string
    name: CLUSTERED COLUMNSTORE
- name: OperationImpact
  description: The estimated impact of doing recommended index action.
  kind: object
  properties:
  - isReadyOnly: true
    description: The name of the impact dimension.
    types:
    - uid: string
    name: name
  - isReadyOnly: true
    description: The unit in which estimated impact to dimension is measured.
    types:
    - uid: string
    name: unit
  - isReadyOnly: true
    description: The absolute impact to dimension.
    types:
    - uid: number
    name: changeValueAbsolute
  - isReadyOnly: true
    description: The relative impact to dimension (null if not applicable)
    types:
    - uid: number
    name: changeValueRelative
- name: CreateMode
  description: >-
    Specifies the mode of database creation.


    Default: regular database creation.


    Copy: creates a database as a copy of an existing database. sourceDatabaseId must be specified as the resource ID of the source database.


    OnlineSecondary/NonReadableSecondary: creates a database as a (readable or nonreadable) secondary replica of an existing database. sourceDatabaseId must be specified as the resource ID of the existing primary database.


    PointInTimeRestore: Creates a database by restoring a point in time backup of an existing database. sourceDatabaseId must be specified as the resource ID of the existing database, and restorePointInTime must be specified.


    Recovery: Creates a database by restoring a geo-replicated backup. sourceDatabaseId must be specified as the recoverable database resource ID to restore.


    Restore: Creates a database by restoring a backup of a deleted database. sourceDatabaseId must be specified. If sourceDatabaseId is the database's original resource ID, then sourceDatabaseDeletionDate must be specified. Otherwise sourceDatabaseId must be the restorable dropped database resource ID and sourceDatabaseDeletionDate is ignored. restorePointInTime may also be specified to restore from an earlier point in time.


    RestoreLongTermRetentionBackup: Creates a database by restoring from a long term retention vault. recoveryServicesRecoveryPointResourceId must be specified as the recovery point resource ID.


    Copy, NonReadableSecondary, OnlineSecondary and RestoreLongTermRetentionBackup are not supported for DataWarehouse edition.
  kind: enum
  properties:
  - types:
    - uid: string
    name: Copy
  - types:
    - uid: string
    name: Default
  - types:
    - uid: string
    name: NonReadableSecondary
  - types:
    - uid: string
    name: OnlineSecondary
  - types:
    - uid: string
    name: PointInTimeRestore
  - types:
    - uid: string
    name: Recovery
  - types:
    - uid: string
    name: Restore
  - types:
    - uid: string
    name: RestoreLongTermRetentionBackup
- name: DatabaseEdition
  description: 'The edition of the database. The DatabaseEditions enumeration contains all the valid editions. If createMode is NonReadableSecondary or OnlineSecondary, this value is ignored. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions -l westus --query [].name` .'
  kind: enum
  properties:
  - types:
    - uid: string
    name: Web
  - types:
    - uid: string
    name: Business
  - types:
    - uid: string
    name: Basic
  - types:
    - uid: string
    name: Standard
  - types:
    - uid: string
    name: Premium
  - types:
    - uid: string
    name: PremiumRS
  - types:
    - uid: string
    name: Free
  - types:
    - uid: string
    name: Stretch
  - types:
    - uid: string
    name: DataWarehouse
  - types:
    - uid: string
    name: System
  - types:
    - uid: string
    name: System2
- name: ServiceObjectiveName
  description: 'The name of the configured service level objective of the database. This is the service level objective that is in the process of being applied to the database. Once successfully updated, it will match the value of serviceLevelObjective property. To see possible values, query the capabilities API (/subscriptions/{subscriptionId}/providers/Microsoft.Sql/locations/{locationID}/capabilities) referred to by operationId: "Capabilities_ListByLocation." or use the Azure CLI command `az sql db list-editions --location <location> --query [].supportedServiceLevelObjectives[].name` .'
  kind: enum
  properties:
  - types:
    - uid: string
    name: System
  - types:
    - uid: string
    name: System0
  - types:
    - uid: string
    name: System1
  - types:
    - uid: string
    name: System2
  - types:
    - uid: string
    name: System3
  - types:
    - uid: string
    name: System4
  - types:
    - uid: string
    name: System2L
  - types:
    - uid: string
    name: System3L
  - types:
    - uid: string
    name: System4L
  - types:
    - uid: string
    name: Free
  - types:
    - uid: string
    name: Basic
  - types:
    - uid: string
    name: S0
  - types:
    - uid: string
    name: S1
  - types:
    - uid: string
    name: S2
  - types:
    - uid: string
    name: S3
  - types:
    - uid: string
    name: S4
  - types:
    - uid: string
    name: S6
  - types:
    - uid: string
    name: S7
  - types:
    - uid: string
    name: S9
  - types:
    - uid: string
    name: S12
  - types:
    - uid: string
    name: P1
  - types:
    - uid: string
    name: P2
  - types:
    - uid: string
    name: P3
  - types:
    - uid: string
    name: P4
  - types:
    - uid: string
    name: P6
  - types:
    - uid: string
    name: P11
  - types:
    - uid: string
    name: P15
  - types:
    - uid: string
    name: PRS1
  - types:
    - uid: string
    name: PRS2
  - types:
    - uid: string
    name: PRS4
  - types:
    - uid: string
    name: PRS6
  - types:
    - uid: string
    name: DW100
  - types:
    - uid: string
    name: DW200
  - types:
    - uid: string
    name: DW300
  - types:
    - uid: string
    name: DW400
  - types:
    - uid: string
    name: DW500
  - types:
    - uid: string
    name: DW600
  - types:
    - uid: string
    name: DW1000
  - types:
    - uid: string
    name: DW1200
  - types:
    - uid: string
    name: DW1000c
  - types:
    - uid: string
    name: DW1500
  - types:
    - uid: string
    name: DW1500c
  - types:
    - uid: string
    name: DW2000
  - types:
    - uid: string
    name: DW2000c
  - types:
    - uid: string
    name: DW3000
  - types:
    - uid: string
    name: DW2500c
  - types:
    - uid: string
    name: DW3000c
  - types:
    - uid: string
    name: DW6000
  - types:
    - uid: string
    name: DW5000c
  - types:
    - uid: string
    name: DW6000c
  - types:
    - uid: string
    name: DW7500c
  - types:
    - uid: string
    name: DW10000c
  - types:
    - uid: string
    name: DW15000c
  - types:
    - uid: string
    name: DW30000c
  - types:
    - uid: string
    name: DS100
  - types:
    - uid: string
    name: DS200
  - types:
    - uid: string
    name: DS300
  - types:
    - uid: string
    name: DS400
  - types:
    - uid: string
    name: DS500
  - types:
    - uid: string
    name: DS600
  - types:
    - uid: string
    name: DS1000
  - types:
    - uid: string
    name: DS1200
  - types:
    - uid: string
    name: DS1500
  - types:
    - uid: string
    name: DS2000
  - types:
    - uid: string
    name: ElasticPool
- name: ReadScale
  description: Conditional. If the database is a geo-secondary, readScale indicates whether read-only connections are allowed to this database or not. Not supported for DataWarehouse edition.
  kind: enum
  properties:
  - types:
    - uid: string
    name: Enabled
  - types:
    - uid: string
    name: Disabled
- name: SampleName
  description: Indicates the name of the sample schema to apply when creating this database. If createMode is not Default, this value is ignored. Not supported for DataWarehouse edition.
  kind: enum
  properties:
  - types:
    - uid: string
    name: AdventureWorksLT
examples:
- request:
    uri: PATCH https://management.azure.com/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/sqlcrudtest-4799/providers/Microsoft.Sql/servers/sqlcrudtest-5961/databases/testdb?api-version=2014-04-01
    body: >-
      {
        "properties": {
          "edition": "Standard",
          "status": "Online",
          "createMode": "Default",
          "serviceLevelObjective": "S0",
          "collation": "SQL_Latin1_General_CP1_CI_AS",
          "maxSizeBytes": "268435456000",
          "currentServiceObjectiveId": "f1173c43-91bd-4aaa-973c-54e79e15235b",
          "requestedServiceObjectiveId": "f1173c43-91bd-4aaa-973c-54e79e15235b",
          "requestedServiceObjectiveName": "S0",
          "defaultSecondaryLocation": "Japan West",
          "earliestRestoreDate": "2017-02-10T01:52:52.923Z",
          "containmentState": 2,
          "readScale": "Disabled"
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/sqlcrudtest-4799/providers/Microsoft.Sql/servers/sqlcrudtest-5961/databases/testdb",
        "name": "testdb",
        "type": "Microsoft.Sql/servers/databases",
        "location": "Japan East",
        "kind": "v12.0,user",
        "properties": {
          "edition": "Standard",
          "status": "Online",
          "serviceLevelObjective": "S0",
          "collation": "SQL_Latin1_General_CP1_CI_AS",
          "creationDate": "2017-02-24T22:39:46.547Z",
          "maxSizeBytes": "268435456000",
          "currentServiceObjectiveId": "f1173c43-91bd-4aaa-973c-54e79e15235b",
          "requestedServiceObjectiveId": "f1173c43-91bd-4aaa-973c-54e79e15235b",
          "requestedServiceObjectiveName": "S0",
          "sampleName": null,
          "defaultSecondaryLocation": "Japan West",
          "earliestRestoreDate": "2017-02-10T01:52:52.923Z",
          "elasticPoolName": null,
          "containmentState": 2,
          "readScale": "Disabled",
          "failoverGroupId": null
        }
      }
  - statusCode: "202"
  name: Update a database max
- request:
    uri: PATCH https://management.azure.com/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/sqlcrudtest-4799/providers/Microsoft.Sql/servers/sqlcrudtest-5961/databases/testdb?api-version=2014-04-01
    body: '{}'
  responses:
  - statusCode: "200"
    body: >-
      {
        "id": "/subscriptions/00000000-1111-2222-3333-444444444444/resourceGroups/sqlcrudtest-4799/providers/Microsoft.Sql/servers/sqlcrudtest-5961/databases/testdb",
        "name": "testdb",
        "type": "Microsoft.Sql/servers/databases",
        "location": "Japan East",
        "kind": "v12.0,user",
        "properties": {
          "edition": "Standard",
          "status": "Online",
          "serviceLevelObjective": "S0",
          "collation": "SQL_Latin1_General_CP1_CI_AS",
          "creationDate": "2017-02-24T22:39:46.547Z",
          "maxSizeBytes": "268435456000",
          "currentServiceObjectiveId": "f1173c43-91bd-4aaa-973c-54e79e15235b",
          "requestedServiceObjectiveId": "f1173c43-91bd-4aaa-973c-54e79e15235b",
          "requestedServiceObjectiveName": "S0",
          "sampleName": null,
          "defaultSecondaryLocation": "Japan West",
          "earliestRestoreDate": "2017-02-10T01:52:52.923Z",
          "elasticPoolName": null,
          "containmentState": 2,
          "readScale": "Disabled",
          "failoverGroupId": null
        }
      }
  - statusCode: "202"
  name: Update a database min
security: []
name: Update
uid: management.azure.com.sqldatabase.databases.update
