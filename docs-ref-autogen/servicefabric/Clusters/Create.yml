### YamlMime:RESTOperation
uid: management.azure.com.servicefabric.clusters.create
name: Create
service: Service Fabric
groupName: Clusters
apiVersion: 2016-09-01
summary: Create cluster resource
consumes:
- application/json
produces:
- application/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ServiceFabric/clusters/{clusterName}?api-version=2016-09-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The customer subscription identifier
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group to which the resource belongs or get created
  types:
  - uid: string
- name: clusterName
  in: path
  isRequired: true
  description: The name of the cluster resource
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: The version of the ServiceFabric resouce provider api
  types:
  - uid: string
responses:
- name: 200 OK
  description: OK - Put cluster successfully
  types:
  - uid: Cluster
- name: 202 Accepted
  description: Accepted - Put request accepted; the operation will complete asynchronously.
- name: Other Status Codes
  description: Error
  types:
  - uid: ErrorModel
requestBody:
- parameters:
  - name: properties.clusterCodeVersion
    in: body
    description: "  \nThe ServiceFabric code version running in your cluster"
    types:
    - uid: string
  - name: properties.certificate
    in: body
    description: "  \nThis primay certificate will be used as cluster node to node security, SSL certificate for cluster management endpoint and default admin client"
    types:
    - uid: CertificateDescription
  - name: properties.reliabilityLevel
    in: body
    description: "  \nCluster reliability level indicates replica set size of system service"
    types:
    - uid: Bronze
    - uid: Silver
    - uid: Gold
    - uid: Platinum
    typesTitle: enum
  - name: properties.upgradeMode
    in: body
    description: "  \nCluster upgrade mode indicates if fabric upgrade is initiated automatically by the system or not"
    types:
    - uid: Automatic
    - uid: Manual
    typesTitle: enum
  - name: properties.clientCertificateThumbprints
    in: body
    description: "  \nClient certificate details using thumbprint"
    types:
    - uid: ClientCertificateThumbprint
      isArray: true
  - name: properties.clientCertificateCommonNames
    in: body
    description: "  \nClient certificate details using common name"
    types:
    - uid: ClientCertificateCommonName
      isArray: true
  - name: properties.fabricSettings
    in: body
    description: "  \nServiceFabric section settings"
    types:
    - uid: SettingsSectionDescription
      isArray: true
  - name: properties.reverseProxyCertificate
    in: body
    description: "  \nThe server certificate used by reverse proxy"
    types:
    - uid: CertificateDescription
  - name: properties.managementEndpoint
    in: body
    isRequired: true
    description: "  \nThe http management endpoint of the cluster"
    types:
    - uid: string
  - name: properties.nodeTypes
    in: body
    isRequired: true
    description: "  \nDescribes a node type in the cluster, each node type represents sub set of nodes in the cluster"
    types:
    - uid: NodeTypeDescription
      isArray: true
  - name: properties.azureActiveDirectory
    in: body
    description: "  \nThe settings to enable AAD authentication on the cluster"
    types:
    - uid: AzureActiveDirectory
  - name: properties.vmImage
    in: body
    description: "  \nThe name of VM image VMSS has been configured with. Generic names such as Windows or Linux can be used."
    types:
    - uid: string
  - name: properties.diagnosticsStorageAccountConfig
    in: body
    description: "  \nThe storage diagnostics account configuration details"
    types:
    - uid: DiagnosticsStorageAccountConfig
  - name: properties.upgradeDescription
    in: body
    description: "  \nThe policy to use when upgrading the cluster."
    types:
    - uid: ClusterUpgradePolicy
  - name: location
    in: body
    isRequired: true
    description: "  \nResource location."
    types:
    - uid: string
  - name: tags
    in: body
    description: "  \nResource tags."
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
requestHeader: []
definitions:
- name: ClusterVersionDetails
  description: The detail of the ServiceFabric runtime version result
  kind: object
  properties:
  - name: codeVersion
    description: "  \nThe ServiceFabric runtime version of the cluster"
    types:
    - uid: string
  - name: supportExpiryUtc
    description: "  \nThe date of expiry of support of the version"
    types:
    - uid: string
  - name: environment
    description: "  \nCluster operating system"
    types:
    - uid: ClusterEnvironment
- name: CertificateDescription
  description: Certificate details
  kind: object
  properties:
  - name: thumbprint
    description: "  \nThumbprint of the primary certificate"
    types:
    - uid: string
  - name: thumbprintSecondary
    description: "  \nThumbprint of the secondary certificate"
    types:
    - uid: string
  - name: x509StoreName
    description: "  \nThe local certificate store location"
    types:
    - uid: AddressBook
    - uid: AuthRoot
    - uid: CertificateAuthority
    - uid: Disallowed
    - uid: My
    - uid: Root
    - uid: TrustedPeople
    - uid: TrustedPublisher
    typesTitle: enum
- name: ClientCertificateThumbprint
  description: Client certificate details using thumbprint
  kind: object
  properties:
  - name: isAdmin
    description: "  \nIs this certificate used for admin access from the client, if false, it is used or query only access"
    types:
    - uid: boolean
  - name: certificateThumbprint
    description: "  \nCertificate thumbprint"
    types:
    - uid: string
- name: ClientCertificateCommonName
  description: Client certificate details using common name
  kind: object
  properties:
  - name: isAdmin
    description: "  \nIs this certificate used for admin access from the client, if false , it is used or query only access"
    types:
    - uid: boolean
  - name: certificateCommonName
    description: "  \nCertificate common name to be granted access; be carefull using wild card common names"
    types:
    - uid: string
  - name: certificateIssuerThumbprint
    description: "  \nCertificate issuer thumbprint"
    types:
    - uid: string
- name: SettingsSectionDescription
  description: ServiceFabric section settings
  kind: object
  properties:
  - name: name
    description: "  \nThe name of settings section"
    types:
    - uid: string
  - name: parameters
    description: "  \nServiceFabric settings under sections"
    types:
    - uid: SettingsParameterDescription
      isArray: true
- name: NodeTypeDescription
  description: Describes a node type in the cluster, each node type represents sub set of nodes in the cluster
  kind: object
  properties:
  - name: name
    description: "  \nName of the node type"
    types:
    - uid: string
  - name: placementProperties
    description: "  \nThe placement tags applied to nodes in the node type, which can be used to indicate where certain services (workload) should run"
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: capacities
    description: "  \nThe capacity tags applied to the nodes in the node type, the cluster resource manager uses these tags to understand how much of a resource a node has"
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
  - name: clientConnectionEndpointPort
    description: "  \nThe TCP cluster management endpoint port"
    types:
    - uid: integer
  - name: httpGatewayEndpointPort
    description: "  \nThe HTTP cluster management endpoint port"
    types:
    - uid: integer
  - name: durabilityLevel
    description: "  \nNodetype durability Level"
    types:
    - uid: Bronze
    - uid: Silver
    - uid: Gold
    typesTitle: enum
  - name: applicationPorts
    description: "  \nPorts used by applications"
    types:
    - uid: EndpointRangeDescription
  - name: ephemeralPorts
    description: "  \nSystem assgined application ports"
    types:
    - uid: EndpointRangeDescription
  - name: isPrimary
    description: "  \nMark this as the primary node type"
    types:
    - uid: boolean
  - name: vmInstanceCount
    description: "  \nThe number of node instances in the node type"
    types:
    - uid: integer
  - name: reverseProxyEndpointPort
    description: "  \nEndpoint used by reverse proxy"
    types:
    - uid: integer
- name: AzureActiveDirectory
  description: The settings to enable AAD authentication on the cluster
  kind: object
  properties:
  - name: tenantId
    description: "  \nAzure active directory tenant id"
    types:
    - uid: string
  - name: clusterApplication
    description: "  \nAzure active directory cluster application id"
    types:
    - uid: string
  - name: clientApplication
    description: "  \nAzure active directory client application id"
    types:
    - uid: string
- name: DiagnosticsStorageAccountConfig
  description: Diagnostics storage account config
  kind: object
  properties:
  - name: storageAccountName
    description: "  \nDiagnostics storage account name"
    types:
    - uid: string
  - name: protectedAccountKeyName
    description: "  \nProtected Diagnostics storage key name"
    types:
    - uid: string
  - name: blobEndpoint
    description: "  \nDiagnostics storage account blob endpoint"
    types:
    - uid: string
  - name: queueEndpoint
    description: "  \nDiagnostics storage account queue endpoint"
    types:
    - uid: string
  - name: tableEndpoint
    description: "  \nDiagnostics storage account table endpoint"
    types:
    - uid: string
- name: ClusterUpgradePolicy
  description: Cluster upgrade policy
  kind: object
  properties:
  - name: overrideUserUpgradePolicy
    description: "  \nUse the user defined upgrade policy or not"
    types:
    - uid: boolean
  - name: forceRestart
    description: "  \nForce node to restart or not"
    types:
    - uid: boolean
  - name: upgradeReplicaSetCheckTimeout
    description: "  \nTimeout for replica set upgrade to complete,it represents .Net TimeSpan"
    types:
    - uid: string
  - name: healthCheckWaitDuration
    description: "  \nThe length of time to wait after completing an upgrade domain before performing health checks, it represents .Net TimeSpan"
    types:
    - uid: string
  - name: healthCheckStableDuration
    description: "  \nThe length of time that health checks must pass continuously,it represents .Net TimeSpan"
    types:
    - uid: string
  - name: healthCheckRetryTimeout
    description: "  \nThe length of time that health checks can fail continuously,it represents .Net TimeSpan"
    types:
    - uid: string
  - name: upgradeTimeout
    description: "  \nThe upgrade timeout,it represents .Net TimeSpan"
    types:
    - uid: string
  - name: upgradeDomainTimeout
    description: "  \nThe timeout for any upgrade domain,it represents .Net TimeSpan"
    types:
    - uid: string
  - name: healthPolicy
    description: "  \nCluster health Policy"
    types:
    - uid: ClusterHealthPolicy
  - name: deltaHealthPolicy
    description: "  \nDelta health policy"
    types:
    - uid: ClusterUpgradeDeltaHealthPolicy
- name: Cluster
  description: The cluster resource
  kind: object
  properties:
  - name: properties.availableClusterVersions
    isReadyOnly: true
    description: "  \nThe detail of the ServiceFabric runtime version result"
    types:
    - uid: ClusterVersionDetails
      isArray: true
  - name: properties.clusterId
    isReadyOnly: true
    description: "  \nThe unique identifier for the cluster resource"
    types:
    - uid: string
  - name: properties.clusterState
    isReadyOnly: true
    description: "  \nThe state for the cluster"
    types:
    - uid: WaitingForNodes
    - uid: Deploying
    - uid: BaselineUpgrade
    - uid: UpdatingUserConfiguration
    - uid: UpdatingUserCertificate
    - uid: UpdatingInfrastructure
    - uid: EnforcingClusterVersion
    - uid: UpgradeServiceUnreachable
    - uid: AutoScale
    - uid: Ready
    typesTitle: enum
  - name: properties.clusterEndpoint
    isReadyOnly: true
    description: "  \nThe endpoint for the cluster connecting to servicefabric resource provider"
    types:
    - uid: string
  - name: properties.clusterCodeVersion
    description: "  \nThe ServiceFabric code version running in your cluster"
    types:
    - uid: string
  - name: properties.certificate
    description: "  \nThis primay certificate will be used as cluster node to node security, SSL certificate for cluster management endpoint and default admin client"
    types:
    - uid: CertificateDescription
  - name: properties.reliabilityLevel
    description: "  \nCluster reliability level indicates replica set size of system service"
    types:
    - uid: Bronze
    - uid: Silver
    - uid: Gold
    - uid: Platinum
    typesTitle: enum
  - name: properties.upgradeMode
    description: "  \nCluster upgrade mode indicates if fabric upgrade is initiated automatically by the system or not"
    types:
    - uid: Automatic
    - uid: Manual
    typesTitle: enum
  - name: properties.clientCertificateThumbprints
    description: "  \nClient certificate details using thumbprint"
    types:
    - uid: ClientCertificateThumbprint
      isArray: true
  - name: properties.clientCertificateCommonNames
    description: "  \nClient certificate details using common name"
    types:
    - uid: ClientCertificateCommonName
      isArray: true
  - name: properties.fabricSettings
    description: "  \nServiceFabric section settings"
    types:
    - uid: SettingsSectionDescription
      isArray: true
  - name: properties.reverseProxyCertificate
    description: "  \nThe server certificate used by reverse proxy"
    types:
    - uid: CertificateDescription
  - name: properties.managementEndpoint
    description: "  \nThe http management endpoint of the cluster"
    types:
    - uid: string
  - name: properties.nodeTypes
    description: "  \nDescribes a node type in the cluster, each node type represents sub set of nodes in the cluster"
    types:
    - uid: NodeTypeDescription
      isArray: true
  - name: properties.azureActiveDirectory
    description: "  \nThe settings to enable AAD authentication on the cluster"
    types:
    - uid: AzureActiveDirectory
  - name: properties.provisioningState
    isReadyOnly: true
    description: "  \nThe provisioning state of the cluster resource"
    types:
    - uid: ProvisioningState
  - name: properties.vmImage
    description: "  \nThe name of VM image VMSS has been configured with. Generic names such as Windows or Linux can be used."
    types:
    - uid: string
  - name: properties.diagnosticsStorageAccountConfig
    description: "  \nThe storage diagnostics account configuration details"
    types:
    - uid: DiagnosticsStorageAccountConfig
  - name: properties.upgradeDescription
    description: "  \nThe policy to use when upgrading the cluster."
    types:
    - uid: ClusterUpgradePolicy
  - name: id
    isReadyOnly: true
    description: "  \nResource ID."
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: "  \nResource name."
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: "  \nResource type."
    types:
    - uid: string
  - name: location
    description: "  \nResource location."
    types:
    - uid: string
  - name: tags
    description: "  \nResource tags."
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: ErrorModel
  description: The structure of the error
  kind: object
  properties:
  - name: error
    description: "  \nThe error detail "
    types:
    - uid: Error
- name: ClusterEnvironment
  description: Cluster operating system
  kind: enum
  properties:
  - name: Windows
    types:
    - uid: string
  - name: Linux
    types:
    - uid: string
- name: SettingsParameterDescription
  description: ServiceFabric settings under sections
  kind: object
  properties:
  - name: name
    description: "  \nThe name of settings property"
    types:
    - uid: string
  - name: value
    description: "  \nThe value of the property"
    types:
    - uid: string
- name: EndpointRangeDescription
  description: Port range details
  kind: object
  properties:
  - name: startPort
    description: "  \nStarting port of a range of ports"
    types:
    - uid: integer
  - name: endPort
    description: "  \nEnd port of a range of ports"
    types:
    - uid: integer
- name: ClusterHealthPolicy
  description: Defines a health policy used to evaluate the health of the cluster or of a cluster node.
  kind: object
  properties:
  - name: maxPercentUnhealthyNodes
    description: "  \nThe maximum allowed percentage of unhealthy nodes before reporting an error. For example, to allow 10% of nodes to be unhealthy, this value would be 10. "
    types:
    - uid: integer
  - name: maxPercentUnhealthyApplications
    description: "  \nThe maximum allowed percentage of unhealthy applications before reporting an error. For example, to allow 10% of applications to be unhealthy, this value would be 10. "
    types:
    - uid: integer
- name: ClusterUpgradeDeltaHealthPolicy
  description: Delta health policy for the cluster
  kind: object
  properties:
  - name: maxPercentDeltaUnhealthyNodes
    description: "  \nAdditional unhealthy nodes percentage"
    types:
    - uid: integer
  - name: maxPercentUpgradeDomainDeltaUnhealthyNodes
    description: "  \nAdditional unhealthy nodes percentage per upgrade domain "
    types:
    - uid: integer
  - name: maxPercentDeltaUnhealthyApplications
    description: "  \nAdditional unhealthy applications percentage"
    types:
    - uid: integer
- name: ProvisioningState
  description: The provisioning state of the cluster resource
  kind: enum
  properties:
  - name: Updating
    types:
    - uid: string
  - name: Succeeded
    types:
    - uid: string
  - name: Failed
    types:
    - uid: string
  - name: Canceled
    types:
    - uid: string
- name: Error
  description: 'The error detail '
  kind: object
  properties:
  - name: code
    description: "  \nThe error code"
    types:
    - uid: string
  - name: message
    description: "  \nThe error message"
    types:
    - uid: string
examples:
- name: Put a cluster with min parameter
  request:
    uri: PUT https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/resRg/providers/Microsoft.ServiceFabric/clusters/myCluster?api-version=2016-09-01
    body: >-
      {
        "properties": {
          "clusterCodeVersion": "5.5.149.9494",
          "reliabilityLevel": "Silver",
          "upgradeMode": "Automatic",
          "managementEndpoint": "https://myCluster.southcentralus.cloudapp.azure.com:19080",
          "nodeTypes": [
            {
              "name": "nt1vm",
              "clientConnectionEndpointPort": 19000,
              "httpGatewayEndpointPort": 19080,
              "durabilityLevel": "Bronze",
              "applicationPorts": {
                "startPort": 20000,
                "endPort": 30000
              },
              "ephemeralPorts": {
                "startPort": 49152,
                "endPort": 65534
              },
              "isPrimary": true,
              "vmInstanceCount": 5
            }
          ],
          "provisioningState": "Succeeded",
          "vmImage": "Windows",
          "diagnosticsStorageAccountConfig": {
            "storageAccountName": "7623qfhwmnstw2",
            "protectedAccountKeyName": "StorageAccountKey1",
            "blobEndpoint": "https://7623qfhwmnstw2.blob.core.windows.net/",
            "queueEndpoint": "https://7623qfhwmnstw2.queue.core.windows.net/",
            "tableEndpoint": "https://7623qfhwmnstw2.table.core.windows.net/"
          }
        },
        "location": "southcentralus",
        "tags": {
          "resourceType": "Service Fabric",
          "clusterName": "myCluster"
        }
      }
  responses:
  - statusCode: "202"
  - statusCode: "200"
    body: >-
      {
        "type": "Microsoft.ServiceFabric/clusters",
        "location": "southcentralus",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/resRg/providers/Microsoft.ServiceFabric/clusters/myCluster",
        "name": "myCluster",
        "tags": {
          "resourceType": "Service Fabric",
          "clusterName": "myCluster"
        },
        "properties": {
          "provisioningState": "Updating",
          "clusterId": "466e7604-b8ae-4696-a91d-d7b5fcc63628",
          "clusterCodeVersion": "5.5.149.9494",
          "clusterState": "UpdatingUserConfiguration",
          "managementEndpoint": "https://myCluster.southcentralus.cloudapp.azure.com:19080",
          "clusterEndpoint": "https://warp-test-winfabrp-southcentralus.trafficmanager.net/runtime/clusters/466e7604-b8ae-4696-a91d-d7b5fcc63628",
          "certificate": {
            "thumbprint": "483B5DE52ECA35147B94C5E116FA7B2E34BB68F9",
            "x509StoreName": "My"
          },
          "clientCertificateThumbprints": [],
          "clientCertificateCommonNames": [],
          "fabricSettings": [],
          "upgradeDescription": {
            "overrideUserUpgradePolicy": false,
            "forceRestart": true,
            "upgradeReplicaSetCheckTimeout": "10675199.02:48:05.4775807",
            "healthCheckWaitDuration": "00:05:00",
            "healthCheckStableDuration": "00:05:00",
            "healthCheckRetryTimeout": "00:45:00",
            "upgradeTimeout": "12:00:00",
            "upgradeDomainTimeout": "02:00:00",
            "healthPolicy": {
              "maxPercentUnhealthyNodes": 100,
              "maxPercentUnhealthyApplications": 100
            },
            "deltaHealthPolicy": {
              "maxPercentDeltaUnhealthyNodes": 0,
              "maxPercentUpgradeDomainDeltaUnhealthyNodes": 0,
              "maxPercentDeltaUnhealthyApplications": 0
            }
          },
          "diagnosticsStorageAccountConfig": {
            "storageAccountName": "ba3wzulspn67w2",
            "protectedAccountKeyName": "StorageAccountKey1",
            "blobEndpoint": "https://ba3wzulspn67w2.blob.core.windows.net/",
            "queueEndpoint": "https://ba3wzulspn67w2.queue.core.windows.net/",
            "tableEndpoint": "https://ba3wzulspn67w2.table.core.windows.net/"
          },
          "nodeTypes": [
            {
              "name": "nt1vm",
              "clientConnectionEndpointPort": 19000,
              "httpGatewayEndpointPort": 19080,
              "applicationPorts": {
                "startPort": 20000,
                "endPort": 30000
              },
              "ephemeralPorts": {
                "startPort": 49152,
                "endPort": 65534
              },
              "isPrimary": true,
              "vmInstanceCount": 5,
              "durabilityLevel": "Bronze"
            }
          ],
          "vmImage": "Windows",
          "reliabilityLevel": "Silver",
          "upgradeMode": "Automatic",
          "availableClusterVersions": [
            {
              "codeVersion": "5.1.158.9590",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.2.0.100",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.2.207.9590",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.3.121.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.3.311.9590",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.30.100",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.35.100",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.38.100",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.118.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.132.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.145.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.164.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.5.67.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.5.149.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            }
          ]
        }
      }
- name: Put a cluster with max parameter
  request:
    uri: PUT https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/resRg/providers/Microsoft.ServiceFabric/clusters/myCluster?api-version=2016-09-01
    body: >-
      {
        "properties": {
          "clusterCodeVersion": "5.5.149.9494",
          "certificate": {
            "thumbprint": "5F3660C715EBBDA31DB1FFDCF508302348DE8E7A",
            "thumbprintSecondary": "361A93445450CC8F2FF747F74500E8044942DAFD",
            "x509StoreName": "My"
          },
          "reliabilityLevel": "Silver",
          "upgradeMode": "Automatic",
          "clientCertificateThumbprints": [
            "5F3660C715EBBDA31DB1FFDCF508302348DE8E7A"
          ],
          "clientCertificateCommonNames": [
            {
              "isAdmin": true,
              "certificateCommonName": "abc.com",
              "certificateIssuerThumbprint": "5F3660C715EBBDA31DB1FFDCF508302348DE8E7A"
            }
          ],
          "azureActiveDirectory": {
            "tenantId": "00000000-0000-0000-0000-000000000000",
            "clusterApplication": "00000000-0000-0000-0000-000000000000",
            "clientApplication": "00000000-0000-0000-0000-000000000000"
          },
          "fabricSettings": [
            {
              "name": "Security",
              "parameters": [
                {
                  "name": "ClusterProtectionLevel",
                  "value": "EncryptAndSign"
                }
              ]
            }
          ],
          "managementEndpoint": "https://sfclust2.southcentralus.cloudapp.azure.com:19080",
          "nodeTypes": [
            {
              "name": "nt1vm",
              "clientConnectionEndpointPort": 19000,
              "httpGatewayEndpointPort": 19080,
              "durabilityLevel": "Bronze",
              "applicationPorts": {
                "startPort": 20000,
                "endPort": 30000
              },
              "ephemeralPorts": {
                "startPort": 49152,
                "endPort": 65534
              },
              "isPrimary": true,
              "vmInstanceCount": 5
            }
          ],
          "provisioningState": "Succeeded",
          "vmImage": "Windows",
          "diagnosticsStorageAccountConfig": {
            "storageAccountName": "7623qfhwmnstw2",
            "protectedAccountKeyName": "StorageAccountKey1",
            "blobEndpoint": "https://7623qfhwmnstw2.blob.core.windows.net/",
            "queueEndpoint": "https://7623qfhwmnstw2.queue.core.windows.net/",
            "tableEndpoint": "https://7623qfhwmnstw2.table.core.windows.net/"
          },
          "upgradeDescription": {
            "overrideUserUpgradePolicy": false,
            "forceRestart": true,
            "upgradeReplicaSetCheckTimeout": "10675199.02:48:05.4775807",
            "healthCheckWaitDuration": "00:05:00",
            "healthCheckStableDuration": "00:05:00",
            "healthCheckRetryTimeout": "00:45:00",
            "upgradeTimeout": "12:00:00",
            "upgradeDomainTimeout": "02:00:00",
            "healthPolicy": {
              "maxPercentUnhealthyNodes": 100,
              "maxPercentUnhealthyApplications": 100
            },
            "deltaHealthPolicy": {
              "maxPercentDeltaUnhealthyNodes": 0,
              "maxPercentUpgradeDomainDeltaUnhealthyNodes": 0,
              "maxPercentDeltaUnhealthyApplications": 0
            }
          }
        },
        "location": "southcentralus",
        "tags": {
          "resourceType": "Service Fabric",
          "clusterName": "myCluster"
        }
      }
  responses:
  - statusCode: "202"
  - statusCode: "200"
    body: >-
      {
        "type": "Microsoft.ServiceFabric/clusters",
        "location": "southcentralus",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/resRg/providers/Microsoft.ServiceFabric/clusters/myCluster",
        "name": "myCluster",
        "tags": {
          "resourceType": "Service Fabric",
          "clusterName": "myCluster"
        },
        "properties": {
          "provisioningState": "Updating",
          "clusterId": "466e7604-b8ae-4696-a91d-d7b5fcc63628",
          "clusterCodeVersion": "5.5.149.9494",
          "clusterState": "UpdatingUserConfiguration",
          "managementEndpoint": "https://myCluster.southcentralus.cloudapp.azure.com:19080",
          "clusterEndpoint": "https://warp-test-winfabrp-southcentralus.trafficmanager.net/runtime/clusters/466e7604-b8ae-4696-a91d-d7b5fcc63628",
          "certificate": {
            "thumbprint": "483B5DE52ECA35147B94C5E116FA7B2E34BB68F9",
            "x509StoreName": "My"
          },
          "clientCertificateThumbprints": [
            "5F3660C715EBBDA31DB1FFDCF508302348DE8E7A"
          ],
          "clientCertificateCommonNames": [
            {
              "isAdmin": true,
              "certificateCommonName": "abc.com",
              "certificateIssuerThumbprint": "5F3660C715EBBDA31DB1FFDCF508302348DE8E7A"
            }
          ],
          "fabricSettings": [
            {
              "name": "Hosting",
              "parameters": [
                {
                  "name": "ActivationMaxRetryInterval",
                  "value": "10000"
                }
              ]
            }
          ],
          "azureActiveDirectory": {
            "tenantId": "00000000-0000-0000-0000-000000000000",
            "clusterApplication": "00000000-0000-0000-0000-000000000000",
            "clientApplication": "00000000-0000-0000-0000-000000000000"
          },
          "upgradeDescription": {
            "overrideUserUpgradePolicy": false,
            "forceRestart": true,
            "upgradeReplicaSetCheckTimeout": "10675199.02:48:05.4775807",
            "healthCheckWaitDuration": "00:05:00",
            "healthCheckStableDuration": "00:05:00",
            "healthCheckRetryTimeout": "00:45:00",
            "upgradeTimeout": "12:00:00",
            "upgradeDomainTimeout": "02:00:00",
            "healthPolicy": {
              "maxPercentUnhealthyNodes": 100,
              "maxPercentUnhealthyApplications": 100
            },
            "deltaHealthPolicy": {
              "maxPercentDeltaUnhealthyNodes": 0,
              "maxPercentUpgradeDomainDeltaUnhealthyNodes": 0,
              "maxPercentDeltaUnhealthyApplications": 0
            }
          },
          "diagnosticsStorageAccountConfig": {
            "storageAccountName": "ba3wzulspn67w2",
            "protectedAccountKeyName": "StorageAccountKey1",
            "blobEndpoint": "https://ba3wzulspn67w2.blob.core.windows.net/",
            "queueEndpoint": "https://ba3wzulspn67w2.queue.core.windows.net/",
            "tableEndpoint": "https://ba3wzulspn67w2.table.core.windows.net/"
          },
          "nodeTypes": [
            {
              "name": "nt1vm",
              "clientConnectionEndpointPort": 19000,
              "httpGatewayEndpointPort": 19080,
              "applicationPorts": {
                "startPort": 20000,
                "endPort": 30000
              },
              "ephemeralPorts": {
                "startPort": 49152,
                "endPort": 65534
              },
              "isPrimary": true,
              "vmInstanceCount": 5,
              "durabilityLevel": "Bronze"
            }
          ],
          "vmImage": "Windows",
          "reliabilityLevel": "Silver",
          "upgradeMode": "Automatic",
          "availableClusterVersions": [
            {
              "codeVersion": "5.1.158.9590",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.2.0.100",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.2.207.9590",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.3.121.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.3.311.9590",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.30.100",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.35.100",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.38.100",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.118.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.132.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.145.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.4.164.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.5.67.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            },
            {
              "codeVersion": "5.5.149.9494",
              "supportExpiryUtc": "9999-12-31T23:59:59.9999999",
              "environment": "Windows"
            }
          ]
        }
      }
security:
- type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
