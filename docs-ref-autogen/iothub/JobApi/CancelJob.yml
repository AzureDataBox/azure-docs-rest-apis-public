### YamlMime:RESTOperation
summary: Cancel an existing job on an IoT hub.
service: IoT Hub
apiVersion: 2016-11-14
groupName: Job Api
consumes: []
produces:
- application/json
- text/json
paths:
- content: POST https://<fully-qualified IoT hub domain name>/jobs/v2/{jobid}/cancel
uriParameters:
- in: path
  isRequired: true
  types:
  - uid: string
  name: jobid
responses:
- description: OK
  types:
  - uid: JobResponse
  name: 200 OK
requestHeader: []
definitions:
- name: JobResponse
  description: Container of parameters for a job response.
  kind: object
  properties:
  - description: Application provided ID for the job.
    types:
    - uid: string
    name: jobId
  - description: Condition for device query to get devices to execute the job on.
    types:
    - uid: string
    name: queryCondition
  - types:
    - uid: string
    name: createdTime
  - description: Application provided start time (ISO-8601) for the job.
    types:
    - uid: string
    name: startTime
  - description: An IoT hub provided date (ISO-8601) for when the job completed. Valid only after the job reaches the 'completed' state.
    types:
    - uid: string
    name: endTime
  - description: Maximum execution time in seconds (ttl duration).
    types:
    - uid: integer
    name: maxExecutionTimeInSeconds
  - description: The type of job to execute.
    types:
    - uid: JobType
    name: type
  - description: Parameters to execute a direct method on the device.
    types:
    - uid: CloudToDeviceMethod
    name: cloudToDeviceMethod
  - description: Container of IoT Hub device twin properties and their accessors.
    types:
    - uid: DeviceTwinInfo
    name: updateTwin
  - types:
    - uid: JobStatus
    name: status
  - description: If status is failure, this string contains the reason.
    types:
    - uid: string
    name: failureReason
  - description: Status message for the job.
    types:
    - uid: string
    name: statusMessage
  - description: Statistics about a job's execution.
    types:
    - uid: DeviceJobStatistics
    name: deviceJobStatistics
- name: JobType
  description: The type of job to execute.
  kind: enum
  properties:
  - types:
    - uid: string
    name: scheduleDeviceMethod
  - types:
    - uid: string
    name: scheduleUpdateTwin
- name: CloudToDeviceMethod
  description: Parameters to execute a direct method on the device.
  kind: object
  properties:
  - description: Name of the direct method.
    types:
    - uid: string
    name: methodName
  - description: Payload of the direct method request.
    types:
    - uid: object
    name: payload
  - description: Maximum time allowed between the device app receiving the direct method request and sending the corresponding response.
    types:
    - uid: integer
    name: responseTimeoutInSeconds
  - description: Maximum time allowed to deliver a direct method request if a device is offline.
    types:
    - uid: integer
    name: connectTimeoutInSeconds
- name: DeviceTwinInfo
  description: Container of IoT Hub device twin properties and their accessors.
  kind: object
  properties:
  - description: The deviceId uniquely identifies the device in the IoT hub's identity registry. A case-sensitive string (up to 128 char long) of ASCII 7-bit alphanumeric chars + {'-', ':', '.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}.
    types:
    - uid: string
    name: DeviceId
  - description: The last time the device connected, received or sent a message. In ISO8601 datetime format in UTC, for example, 2015-01-28T16:24:48.789Z. This does not update if the device uses the HTTP/1 protocol to perform messaging operations.
    types:
    - uid: VariantValueDateTime
    name: LastActivityTimeUtc
  - description: Indicates if the device is currently connected to the IoT hub or not.
    types:
    - uid: boolean
    name: IsConnected
  - description: The last time the device connected to the IoT hub. In ISO8601 datetime format in UTC, for example, 2015-01-28T16:24:48.789Z. This does not update if the device uses the HTTP/1 protocol to perform messaging operations.
    types:
    - uid: VariantValueDateTime
    name: LastConnectedTimeUtc
  - description: Version for device twin, including tags and desired properties
    types:
    - uid: integer
    name: Version
  - description: A JSON document read and written by the solution back end. Tags are not visible to device apps.
    types:
    - isDictionary: true
      additionalTypes:
      - uid: string
      - uid: object
      uid: object
    name: Tags
  - description: Used in conjunction with reported properties to synchronize device configuration or condition. Desired properties can only be set by the solution back end and can be read by the device app. The device app can also be notified in real time of changes on the desired properties.
    types:
    - uid: DeviceTwinProperties
    name: DesiredProperties
  - description: Used in conjunction with desired properties to synchronize device configuration or condition. Reported properties can only be set by the device app and can be read and queried by the solution back end.
    types:
    - uid: DeviceTwinProperties
    name: ReportedProperties
  - description: Provisioning state of device twin.
    types:
    - uid: ProvisioningState
    name: ProvisioningState
- name: VariantValueDateTime
  description: The last time the device connected, received or sent a message. In ISO8601 datetime format in UTC, for example, 2015-01-28T16:24:48.789Z. This does not update if the device uses the HTTP/1 protocol to perform messaging operations.
  kind: object
  properties:
  - isReadyOnly: true
    types:
    - uid: string
    name: Value
  - isReadyOnly: true
    types:
    - uid: object
    name: ObjectValue
  - isReadyOnly: true
    types:
    - uid: boolean
    name: IsNull
- name: DeviceTwinProperties
  description: Used in conjunction with reported properties to synchronize device configuration or condition. Desired properties can only be set by the solution back end and can be read by the device app. The device app can also be notified in real time of changes on the desired properties.
  kind: object
  properties:
  - description: Version of device twin properties.
    types:
    - uid: integer
    name: Version
  - description: Properties JSON element.
    types:
    - isDictionary: true
      additionalTypes:
      - uid: string
      - uid: object
      uid: object
    name: Properties
  - description: Metadata information for the properties JSON document.
    types:
    - uid: Metadata
    name: Metadata
- name: Metadata
  description: Metadata information for the properties JSON document.
  kind: object
  properties:
  - description: The last time the properties were updated. In ISO8601 datetime format in UTC, for example, 2015-01-28T16:24:48.789Z.
    types:
    - uid: VariantValueDateTime
    name: LastUpdatedUtc
  - description: This SHOULD be null for Reported properties metadata and MUST not be null for Desired properties metadata.
    types:
    - uid: integer
    name: LastUpdatedVersion
  - isReadyOnly: true
    description: True if nested properies are present.
    types:
    - uid: boolean
    name: HasChildren
  - isReadyOnly: true
    description: Nested properties.
    types:
    - {}
    name: Nested
- name: ProvisioningState
  description: Provisioning state of device twin.
  kind: enum
  properties:
  - types:
    - uid: string
    name: Creating
  - types:
    - uid: string
    name: Deleting
  - types:
    - uid: string
    name: Active
  - types:
    - uid: string
    name: Deleted
- name: JobStatus
  kind: enum
  properties:
  - types:
    - uid: string
    name: unknown
  - types:
    - uid: string
    name: running
  - types:
    - uid: string
    name: completed
  - types:
    - uid: string
    name: failed
  - types:
    - uid: string
    name: cancelled
  - types:
    - uid: string
    name: scheduled
  - types:
    - uid: string
    name: queued
- name: DeviceJobStatistics
  description: Statistics about a job's execution.
  kind: object
  properties:
  - description: Number of devices in the job.
    types:
    - uid: integer
    name: deviceCount
  - description: Number of devices where the job failed.
    types:
    - uid: integer
    name: failedCount
  - description: Number of devices where the job succeeded.
    types:
    - uid: integer
    name: succeededCount
  - description: Number of devices that are currently running the job.
    types:
    - uid: integer
    name: runningCount
  - description: Number of devices that are pending to run the job.
    types:
    - uid: integer
    name: pendingCount
examples: []
security: []
name: CancelJob
uid: <fully-qualifiediothubdomainname>.iothub.jobapi.canceljob
