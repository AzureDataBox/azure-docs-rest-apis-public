### YamlMime:RESTOperation
summary: Create, update, or delete the identities of multiple devices from the IoT hub identity registry. Create, update, or delete the identiies of multiple devices from the IoT hub identity registry. A device identity can be specified only once in the list. Different operations (create, update, delete) on different devices are allowed. A maximum of 100 devices can be specified per invocation. For large scale operations, consider using the import feature using blob storage(https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-identity-registry#import-and-export-device-identities).
service: IoT Hub
apiVersion: 2016-11-14
groupName: Device Api
consumes:
- application/json
- text/json
produces:
- application/json
- text/json
paths:
- content: POST https://<fully-qualified IoT hub domain name>/devices?api-version=2016-11-14
uriParameters:
- in: query
  isRequired: true
  description: The version of the API.
  types:
  - uid: string
  name: api-version
responses:
- description: OK
  types:
  - uid: BulkRegistryOperationResult
  name: 200 OK
- description: BadRequest
  types:
  - uid: BulkRegistryOperationResult
  name: 400 Bad Request
requestBody:
- parameters:
  - in: body
    description: The deviceId uniquely identifies the device in the IoT hub's identity registry. A case-sensitive string (up to 128 char long) of ASCII 7-bit alphanumeric chars + {'-', ':', '.', '+', '%', '_', '#', '*', '?', '!', '(', ')', ',', '=', '@', ';', '$', '''}.
    types:
    - uid: string
    name: id
  - in: body
    types:
    - uid: string
    name: eTag
  - in: body
    description: Identifies the behavior when merging a device to the registry during import actions.
    types:
    - uid: ImportMode
    name: importMode
  - in: body
    description: Represents the current status of a device. A disabled device is not allowed to perform any messaging operation. An IoT hub administrator can choose to enable or disable a device.
    types:
    - uid: DeviceStatus
    name: status
  - in: body
    description: A string of user metadata. Reason, if any, for the device to be in specified status. Not interpreted or used by Iot Hub.
    types:
    - uid: string
    name: statusReason
  - in: body
    description: Used to specify the authentication mechanism used by a device. Two mutually-exclusive options are supported - shared access signature keys and device X.509 client certificates.
    types:
    - uid: AuthenticationMechanism
    name: authentication
  - in: body
    description: A set of key-value pair tags. You can use tags to select devices when you query the identity registry.
    types:
    - isDictionary: true
      additionalTypes:
      - uid: string
      - uid: object
      uid: object
    name: tags
  - in: body
    description: Container of desired and reported IoT Hub device twin properties.
    types:
    - uid: PropertyContainer
    name: properties
requestHeader: []
definitions:
- name: ImportMode
  description: Identifies the behavior when merging a device to the registry during import actions.
  kind: enum
  properties:
  - types:
    - uid: string
    name: createOrUpdate
  - types:
    - uid: string
    name: create
  - types:
    - uid: string
    name: update
  - types:
    - uid: string
    name: updateIfMatchETag
  - types:
    - uid: string
    name: createOrUpdateIfMatchETag
  - types:
    - uid: string
    name: delete
  - types:
    - uid: string
    name: deleteIfMatchETag
- name: DeviceStatus
  description: Represents the current status of a device. A disabled device is not allowed to perform any messaging operation. An IoT hub administrator can choose to enable or disable a device.
  kind: enum
  properties:
  - types:
    - uid: string
    name: enabled
  - types:
    - uid: string
    name: disabled
- name: BulkRegistryOperationResult
  description: Encapsulates the result of a bulk device identity operation. The "errors" array contains an entry for each error encountered during the bulk device identity operation.
  kind: object
  properties:
  - types:
    - uid: boolean
    name: isSuccessful
  - types:
    - isArray: true
      uid: DeviceRegistryOperationError
    name: errors
- name: DeviceRegistryOperationError
  description: Encapsulated device identity operation error details.
  kind: object
  properties:
  - types:
    - uid: string
    name: deviceId
  - types:
    - uid: ErrorCode
    name: errorCode
  - types:
    - uid: string
    name: errorStatus
- name: ErrorCode
  kind: enum
  properties:
  - types:
    - uid: string
    name: InvalidErrorCode
  - types:
    - uid: string
    name: InvalidProtocolVersion
  - types:
    - uid: string
    name: DeviceInvalidResultCount
  - types:
    - uid: string
    name: InvalidOperation
  - types:
    - uid: string
    name: ArgumentInvalid
  - types:
    - uid: string
    name: ArgumentNull
  - types:
    - uid: string
    name: IotHubFormatError
  - types:
    - uid: string
    name: DeviceStorageEntitySerializationError
  - types:
    - uid: string
    name: BlobContainerValidationError
  - types:
    - uid: string
    name: ImportWarningExistsError
  - types:
    - uid: string
    name: InvalidSchemaVersion
  - types:
    - uid: string
    name: DeviceDefinedMultipleTimes
  - types:
    - uid: string
    name: DeserializationError
  - types:
    - uid: string
    name: BulkRegistryOperationFailure
  - types:
    - uid: string
    name: DefaultStorageEndpointNotConfigured
  - types:
    - uid: string
    name: InvalidFileUploadCorrelationId
  - types:
    - uid: string
    name: ExpiredFileUploadCorrelationId
  - types:
    - uid: string
    name: InvalidStorageEndpoint
  - types:
    - uid: string
    name: InvalidMessagingEndpoint
  - types:
    - uid: string
    name: InvalidFileUploadCompletionStatus
  - types:
    - uid: string
    name: InvalidStorageEndpointOrBlob
  - types:
    - uid: string
    name: RequestCanceled
  - types:
    - uid: string
    name: InvalidStorageEndpointProperty
  - types:
    - uid: string
    name: InvalidRouteTestInput
  - types:
    - uid: string
    name: InvalidSourceOnRoute
  - types:
    - uid: string
    name: IotHubNotFound
  - types:
    - uid: string
    name: IotHubUnauthorizedAccess
  - types:
    - uid: string
    name: IotHubUnauthorized
  - types:
    - uid: string
    name: IotHubSuspended
  - types:
    - uid: string
    name: IotHubQuotaExceeded
  - types:
    - uid: string
    name: JobQuotaExceeded
  - types:
    - uid: string
    name: DeviceMaximumQueueDepthExceeded
  - types:
    - uid: string
    name: IotHubMaxCbsTokenExceeded
  - types:
    - uid: string
    name: DeviceMaximumActiveFileUploadLimitExceeded
  - types:
    - uid: string
    name: DeviceMaximumQueueSizeExceeded
  - types:
    - uid: string
    name: DeviceModelMaxPropertiesExceeded
  - types:
    - uid: string
    name: DeviceModelMaxIndexablePropertiesExceeded
  - types:
    - uid: string
    name: DeviceNotFound
  - types:
    - uid: string
    name: JobNotFound
  - types:
    - uid: string
    name: PartitionNotFound
  - types:
    - uid: string
    name: QuotaMetricNotFound
  - types:
    - uid: string
    name: SystemPropertyNotFound
  - types:
    - uid: string
    name: AmqpAddressNotFound
  - types:
    - uid: string
    name: QueryStoreClusterNotFound
  - types:
    - uid: string
    name: DeviceNotOnline
  - types:
    - uid: string
    name: OperationNotAllowedInCurrentState
  - types:
    - uid: string
    name: ImportDevicesNotSupported
  - types:
    - uid: string
    name: BulkAddDevicesNotSupported
  - types:
    - uid: string
    name: DeviceAlreadyExists
  - types:
    - uid: string
    name: LinkCreationConflict
  - types:
    - uid: string
    name: ModelAlreadyExists
  - types:
    - uid: string
    name: DeviceLocked
  - types:
    - uid: string
    name: DeviceJobAlreadyExists
  - types:
    - uid: string
    name: PreconditionFailed
  - types:
    - uid: string
    name: DeviceMessageLockLost
  - types:
    - uid: string
    name: JobRunPreconditionFailed
  - types:
    - uid: string
    name: MessageTooLarge
  - types:
    - uid: string
    name: TooManyDevices
  - types:
    - uid: string
    name: IncompatibleDataType
  - types:
    - uid: string
    name: ThrottlingException
  - types:
    - uid: string
    name: ThrottleBacklogLimitExceeded
  - types:
    - uid: string
    name: ThrottlingBacklogTimeout
  - types:
    - uid: string
    name: ThrottlingMaxActiveJobCountExceeded
  - types:
    - uid: string
    name: ServerError
  - types:
    - uid: string
    name: JobCancelled
  - types:
    - uid: string
    name: StatisticsRetrievalError
  - types:
    - uid: string
    name: ConnectionForcefullyClosed
  - types:
    - uid: string
    name: InvalidBlobState
  - types:
    - uid: string
    name: BackupTimedOut
  - types:
    - uid: string
    name: AzureStorageTimeout
  - types:
    - uid: string
    name: GenericTimeout
  - types:
    - uid: string
    name: InvalidThrottleParameter
  - types:
    - uid: string
    name: EventHubLinkAlreadyClosed
  - types:
    - uid: string
    name: ReliableBlobStoreError
  - types:
    - uid: string
    name: RetryAttemptsExhausted
  - types:
    - uid: string
    name: UnexpectedPropertyValue
  - types:
    - uid: string
    name: OrchestrationOperationFailed
  - types:
    - uid: string
    name: InvalidResponseWhileProxying
  - types:
    - uid: string
    name: ServiceUnavailable
  - types:
    - uid: string
    name: IotHubFailingOver
  - types:
    - uid: string
    name: ConnectionUnavailable
  - types:
    - uid: string
    name: DeviceUnavailable
  - types:
    - uid: string
    name: GatewayTimeout
examples: []
security: []
name: BulkDeviceOperation
uid: <fully-qualifiediothubdomainname>.iothub.deviceapi.bulkdeviceoperation
