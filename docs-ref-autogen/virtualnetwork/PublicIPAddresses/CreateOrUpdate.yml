### YamlMime:RESTOperation
uid: management.azure.com.virtualnetworks.publicipaddresses.createorupdate
name: Create Or Update
service: Virtual Networks
groupName: Public IP Addresses
apiVersion: 2017-10-01
summary: Creates or updates a static or dynamic public IP address.
consumes:
- application/json
- text/json
produces:
- application/json
- text/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/publicIPAddresses/{publicIpAddressName}?api-version=2017-10-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The subscription credentials which uniquely identify the Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: publicIpAddressName
  in: path
  isRequired: true
  description: The name of the public IP address.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client API version.
  types:
  - uid: string
responses:
- name: 201 Created
  description: Create successful. The operation returns the resulting PublicIPAddress resource.
  types:
  - uid: PublicIPAddress
- name: 200 OK
  description: Update successful. The operation returns the resulting PublicIPAddress resource.
  types:
  - uid: PublicIPAddress
requestBody:
- parameters:
  - name: sku
    in: body
    description: "  \nThe public IP address SKU."
    types:
    - uid: PublicIPAddressSku
  - name: etag
    in: body
    description: "  \nA unique read-only string that changes whenever the resource is updated."
    types:
    - uid: string
  - name: zones
    in: body
    description: "  "
    types:
    - uid: string
      isArray: true
  - name: properties.publicIPAllocationMethod
    in: body
    description: "  \nThe public IP allocation method. Possible values are: 'Static' and 'Dynamic'."
    types:
    - uid: IPAllocationMethod
  - name: properties.publicIPAddressVersion
    in: body
    description: "  \nThe public IP address version. Possible values are: 'IPv4' and 'IPv6'."
    types:
    - uid: IPVersion
  - name: properties.dnsSettings
    in: body
    description: "  \nThe FQDN of the DNS record associated with the public IP address."
    types:
    - uid: PublicIPAddressDnsSettings
  - name: properties.ipAddress
    in: body
    description: "  \nThe IP address associated with the public IP address resource."
    types:
    - uid: string
  - name: properties.idleTimeoutInMinutes
    in: body
    description: "  \nThe idle timeout of the public IP address."
    types:
    - uid: integer
  - name: properties.resourceGuid
    in: body
    description: "  \nThe resource GUID property of the public IP resource."
    types:
    - uid: string
  - name: properties.provisioningState
    in: body
    description: "  \nThe provisioning state of the PublicIP resource. Possible values are: 'Updating', 'Deleting', and 'Failed'."
    types:
    - uid: string
  - name: location
    in: body
    description: "  \nResource location."
    types:
    - uid: string
  - name: tags
    in: body
    description: "  \nResource tags."
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
requestHeader: []
definitions:
- name: PublicIPAddressSku
  description: SKU of a public IP address
  kind: object
  properties:
  - name: name
    description: "  \nName of a public IP address SKU."
    types:
    - uid: PublicIPAddressSkuName
- name: SubResource
  description: The IP configuration associated with the public IP address.
  kind: object
  properties:
  - name: id
    description: "  \nResource ID."
    types:
    - uid: string
- name: PublicIPAddressDnsSettings
  description: The FQDN of the DNS record associated with the public IP address.
  kind: object
  properties:
  - name: domainNameLabel
    description: "  \nGets or sets the Domain name label.The concatenation of the domain name label and the regionalized DNS zone make up the fully qualified domain name associated with the public IP address. If a domain name label is specified, an A DNS record is created for the public IP in the Microsoft Azure DNS system."
    types:
    - uid: string
  - name: fqdn
    description: "  \nGets the FQDN, Fully qualified domain name of the A DNS record associated with the public IP. This is the concatenation of the domainNameLabel and the regionalized DNS zone."
    types:
    - uid: string
  - name: reverseFqdn
    description: "  \nGets or Sets the Reverse FQDN. A user-visible, fully qualified domain name that resolves to this public IP address. If the reverseFqdn is specified, then a PTR DNS record is created pointing from the IP address in the in-addr.arpa domain to the reverse FQDN. "
    types:
    - uid: string
- name: PublicIPAddress
  description: Public IP address resource.
  kind: object
  properties:
  - name: sku
    description: "  \nThe public IP address SKU."
    types:
    - uid: PublicIPAddressSku
  - name: etag
    description: "  \nA unique read-only string that changes whenever the resource is updated."
    types:
    - uid: string
  - name: zones
    description: "  "
    types:
    - uid: string
      isArray: true
  - name: properties.publicIPAllocationMethod
    description: "  \nThe public IP allocation method. Possible values are: 'Static' and 'Dynamic'."
    types:
    - uid: IPAllocationMethod
  - name: properties.publicIPAddressVersion
    description: "  \nThe public IP address version. Possible values are: 'IPv4' and 'IPv6'."
    types:
    - uid: IPVersion
  - name: properties.ipConfiguration
    isReadyOnly: true
    description: "  \nThe IP configuration associated with the public IP address."
    types:
    - uid: SubResource
  - name: properties.dnsSettings
    description: "  \nThe FQDN of the DNS record associated with the public IP address."
    types:
    - uid: PublicIPAddressDnsSettings
  - name: properties.ipAddress
    description: "  \nThe IP address associated with the public IP address resource."
    types:
    - uid: string
  - name: properties.idleTimeoutInMinutes
    description: "  \nThe idle timeout of the public IP address."
    types:
    - uid: integer
  - name: properties.resourceGuid
    description: "  \nThe resource GUID property of the public IP resource."
    types:
    - uid: string
  - name: properties.provisioningState
    description: "  \nThe provisioning state of the PublicIP resource. Possible values are: 'Updating', 'Deleting', and 'Failed'."
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: "  \nResource ID."
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: "  \nResource name."
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: "  \nResource type."
    types:
    - uid: string
  - name: location
    description: "  \nResource location."
    types:
    - uid: string
  - name: tags
    description: "  \nResource tags."
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: PublicIPAddressSkuName
  description: Name of a public IP address SKU.
  kind: enum
  properties:
  - name: Basic
    types:
    - uid: string
  - name: Standard
    types:
    - uid: string
- name: IPAllocationMethod
  description: "The public IP allocation method. Possible values are: 'Static' and 'Dynamic'."
  kind: enum
  properties:
  - name: Static
    types:
    - uid: string
  - name: Dynamic
    types:
    - uid: string
- name: IPVersion
  description: "The public IP address version. Possible values are: 'IPv4' and 'IPv6'."
  kind: enum
  properties:
  - name: IPv4
    types:
    - uid: string
  - name: IPv6
    types:
    - uid: string
examples:
- name: Create public IP address defaults
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip?api-version=2017-10-01
    body: '{}'
  responses:
  - statusCode: "200"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Dynamic",
          "idleTimeoutInMinutes": 4,
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "sku": {
          "name": "Basic"
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
  - statusCode: "201"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Dynamic",
          "idleTimeoutInMinutes": 4,
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "sku": {
          "name": "Basic"
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
- name: Create public IP address allocation method
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip?api-version=2017-10-01
    body: >-
      {
        "properties": {
          "publicIPAllocationMethod": "Static",
          "idleTimeoutInMinutes": 10,
          "publicIPAddressVersion": "IPv4"
        },
        "sku": {
          "name": "Standard"
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "zones": [
          "1"
        ],
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Static",
          "idleTimeoutInMinutes": 10,
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "sku": {
          "name": "Standard"
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
  - statusCode: "201"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "zones": [
          "1"
        ],
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Static",
          "idleTimeoutInMinutes": 10,
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "sku": {
          "name": "Standard"
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
- name: Create public IP address DNS
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip?api-version=2017-10-01
    body: >-
      {
        "properties": {
          "dnsSettings": {
            "domainNameLabel": "dnslbl"
          }
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Dynamic",
          "idleTimeoutInMinutes": 4,
          "dnsSettings": {
            "domainNameLabel": "dnslbl",
            "fqdn": "dnslbl.westus.cloudapp.azure.com"
          },
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
  - statusCode: "201"
    body: >-
      {
        "name": "testDNS-ip",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip",
        "location": "westus",
        "properties": {
          "provisioningState": "Succeeded",
          "publicIPAddressVersion": "IPv4",
          "publicIPAllocationMethod": "Dynamic",
          "idleTimeoutInMinutes": 4,
          "dnsSettings": {
            "domainNameLabel": "dnslbl",
            "fqdn": "dnslbl.westus.cloudapp.azure.com"
          },
          "ipConfiguration": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/testDNS649/ipConfigurations/ipconfig1"
          }
        },
        "type": "Microsoft.Network/publicIPAddresses"
      }
security:
- type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
