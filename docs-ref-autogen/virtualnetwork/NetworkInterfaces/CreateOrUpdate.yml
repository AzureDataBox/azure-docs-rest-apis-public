### YamlMime:RESTOperation
uid: management.azure.com.virtualnetworks.networkinterfaces.createorupdate
name: Create Or Update
service: Virtual Networks
groupName: Network Interfaces
apiVersion: 2017-10-01
summary: Creates or updates a network interface.
consumes:
- application/json
- text/json
produces:
- application/json
- text/json
paths:
- content: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/networkInterfaces/{networkInterfaceName}?api-version=2017-10-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The subscription credentials which uniquely identify the Microsoft Azure subscription. The subscription ID forms part of the URI for every service call.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: networkInterfaceName
  in: path
  isRequired: true
  description: The name of the network interface.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client API version.
  types:
  - uid: string
responses:
- name: 201 Created
  description: Create successful. The operation returns the resulting NetworkInterface resource.
  types:
  - uid: NetworkInterface
- name: 200 OK
  description: Update successful. The operation returns the resulting NetworkInterface resource.
  types:
  - uid: NetworkInterface
requestBody:
- parameters:
  - name: etag
    in: body
    description: A unique read-only string that changes whenever the resource is updated.
    types:
    - uid: string
  - name: properties.virtualMachine
    in: body
    description: The reference of a virtual machine.
    types:
    - uid: SubResource
  - name: properties.networkSecurityGroup
    in: body
    description: The reference of the NetworkSecurityGroup resource.
    types:
    - uid: SubResource
  - name: properties.ipConfigurations
    in: body
    description: IPConfiguration in a network interface.
    types:
    - uid: NetworkInterfaceIPConfiguration
      isArray: true
  - name: properties.dnsSettings
    in: body
    description: The DNS settings in network interface.
    types:
    - uid: NetworkInterfaceDnsSettings
  - name: properties.macAddress
    in: body
    description: The MAC address of the network interface.
    types:
    - uid: string
  - name: properties.primary
    in: body
    description: Gets whether this is a primary network interface on a virtual machine.
    types:
    - uid: boolean
  - name: properties.enableAcceleratedNetworking
    in: body
    description: If the network interface is accelerated networking enabled.
    types:
    - uid: boolean
  - name: properties.enableIPForwarding
    in: body
    description: Indicates whether IP forwarding is enabled on this network interface.
    types:
    - uid: boolean
  - name: properties.resourceGuid
    in: body
    description: The resource GUID property of the network interface resource.
    types:
    - uid: string
  - name: properties.provisioningState
    in: body
    description: "The provisioning state of the public IP resource. Possible values are: 'Updating', 'Deleting', and 'Failed'."
    types:
    - uid: string
  - name: location
    in: body
    description: Resource location.
    types:
    - uid: string
  - name: tags
    in: body
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
requestHeader: []
definitions:
- name: SubResource
  description: Reference to another subresource.
  kind: object
  properties:
  - name: id
    description: Resource ID.
    types:
    - uid: string
- name: NetworkInterfaceIPConfiguration
  description: IPConfiguration in a network interface.
  kind: object
  properties:
  - name: name
    description: The name of the resource that is unique within a resource group. This name can be used to access the resource.
    types:
    - uid: string
  - name: etag
    description: A unique read-only string that changes whenever the resource is updated.
    types:
    - uid: string
  - name: properties.applicationGatewayBackendAddressPools
    description: Reference to another subresource.
    types:
    - uid: SubResource
      isArray: true
  - name: properties.loadBalancerBackendAddressPools
    description: Reference to another subresource.
    types:
    - uid: SubResource
      isArray: true
  - name: properties.loadBalancerInboundNatRules
    description: Reference to another subresource.
    types:
    - uid: SubResource
      isArray: true
  - name: properties.privateIPAddress
    description: Private IP address of the IP configuration.
    types:
    - uid: string
  - name: properties.privateIPAllocationMethod
    description: "Defines how a private IP address is assigned. Possible values are: 'Static' and 'Dynamic'."
    types:
    - uid: IPAllocationMethod
  - name: properties.privateIPAddressVersion
    description: "Available from Api-Version 2016-03-30 onwards, it represents whether the specific ipconfiguration is IPv4 or IPv6. Default is taken as IPv4.  Possible values are: 'IPv4' and 'IPv6'."
    types:
    - uid: IPVersion
  - name: properties.subnet
    description: Subnet bound to the IP configuration.
    types:
    - uid: SubResource
  - name: properties.primary
    description: Gets whether this is a primary customer address on the network interface.
    types:
    - uid: boolean
  - name: properties.publicIPAddress
    description: Public IP address bound to the IP configuration.
    types:
    - uid: SubResource
  - name: properties.applicationSecurityGroups
    description: Reference to another subresource.
    types:
    - uid: SubResource
      isArray: true
  - name: properties.provisioningState
    description: "The provisioning state of the network interface IP configuration. Possible values are: 'Updating', 'Deleting', and 'Failed'."
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Resource ID
    types:
    - uid: string
- name: NetworkInterfaceDnsSettings
  description: DNS settings of a network interface.
  kind: object
  properties:
  - name: dnsServers
    description: List of DNS servers IP addresses. Use 'AzureProvidedDNS' to switch to azure provided DNS resolution. 'AzureProvidedDNS' value cannot be combined with other IPs, it must be the only value in dnsServers collection.
    types:
    - uid: string
      isArray: true
  - name: appliedDnsServers
    description: If the VM that uses this NIC is part of an Availability Set, then this list will have the union of all DNS servers from all NICs that are part of the Availability Set. This property is what is configured on each of those VMs.
    types:
    - uid: string
      isArray: true
  - name: internalDnsNameLabel
    description: Relative DNS name for this NIC used for internal communications between VMs in the same virtual network.
    types:
    - uid: string
  - name: internalFqdn
    description: Fully qualified DNS name supporting internal communications between VMs in the same virtual network.
    types:
    - uid: string
  - name: internalDomainNameSuffix
    description: Even if internalDnsNameLabel is not specified, a DNS entry is created for the primary NIC of the VM. This DNS name can be constructed by concatenating the VM name with the value of internalDomainNameSuffix.
    types:
    - uid: string
- name: NetworkInterface
  description: A network interface in a resource group.
  kind: object
  properties:
  - name: etag
    description: A unique read-only string that changes whenever the resource is updated.
    types:
    - uid: string
  - name: properties.virtualMachine
    description: The reference of a virtual machine.
    types:
    - uid: SubResource
  - name: properties.networkSecurityGroup
    description: The reference of the NetworkSecurityGroup resource.
    types:
    - uid: SubResource
  - name: properties.ipConfigurations
    description: IPConfiguration in a network interface.
    types:
    - uid: NetworkInterfaceIPConfiguration
      isArray: true
  - name: properties.dnsSettings
    description: The DNS settings in network interface.
    types:
    - uid: NetworkInterfaceDnsSettings
  - name: properties.macAddress
    description: The MAC address of the network interface.
    types:
    - uid: string
  - name: properties.primary
    description: Gets whether this is a primary network interface on a virtual machine.
    types:
    - uid: boolean
  - name: properties.enableAcceleratedNetworking
    description: If the network interface is accelerated networking enabled.
    types:
    - uid: boolean
  - name: properties.enableIPForwarding
    description: Indicates whether IP forwarding is enabled on this network interface.
    types:
    - uid: boolean
  - name: properties.resourceGuid
    description: The resource GUID property of the network interface resource.
    types:
    - uid: string
  - name: properties.provisioningState
    description: "The provisioning state of the public IP resource. Possible values are: 'Updating', 'Deleting', and 'Failed'."
    types:
    - uid: string
  - name: id
    isReadyOnly: true
    description: Resource ID.
    types:
    - uid: string
  - name: name
    isReadyOnly: true
    description: Resource name.
    types:
    - uid: string
  - name: type
    isReadyOnly: true
    description: Resource type.
    types:
    - uid: string
  - name: location
    description: Resource location.
    types:
    - uid: string
  - name: tags
    description: Resource tags.
    types:
    - uid: object
      isDictionary: true
      additionalTypes:
      - uid: string
      - uid: string
- name: IPAllocationMethod
  description: "Defines how a private IP address is assigned. Possible values are: 'Static' and 'Dynamic'."
  kind: enum
  properties:
  - name: Static
    types:
    - uid: string
  - name: Dynamic
    types:
    - uid: string
- name: IPVersion
  description: "Available from Api-Version 2016-03-30 onwards, it represents whether the specific ipconfiguration is IPv4 or IPv6. Default is taken as IPv4.  Possible values are: 'IPv4' and 'IPv6'."
  kind: enum
  properties:
  - name: IPv4
    types:
    - uid: string
  - name: IPv6
    types:
    - uid: string
examples:
- name: Create network interface
  request:
    uri: PUT https://management.azure.com/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/test-nic?api-version=2017-10-01
    body: >-
      {
        "properties": {
          "enableAcceleratedNetworking": true,
          "ipConfigurations": [
            {
              "name": "ipconfig1",
              "properties": {
                "publicIPAddress": {
                  "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip"
                },
                "subnet": {
                  "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/rg1-vnet/subnets/default"
                }
              }
            }
          ]
        }
      }
  responses:
  - statusCode: "200"
    body: >-
      {
        "name": "test-nic",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/test-nic",
        "location": "eastus",
        "properties": {
          "provisioningState": "Succeeded",
          "ipConfigurations": [
            {
              "name": "ipconfig1",
              "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/test-nic/ipConfigurations/ipconfig1",
              "properties": {
                "provisioningState": "Succeeded",
                "privateIPAddress": "172.20.2.4",
                "privateIPAllocationMethod": "Dynamic",
                "publicIPAddress": {
                  "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip"
                },
                "subnet": {
                  "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/rg1-vnet/subnets/default"
                },
                "primary": true,
                "privateIPAddressVersion": "IPv4"
              }
            }
          ],
          "dnsSettings": {
            "dnsServers": [],
            "appliedDnsServers": []
          },
          "enableAcceleratedNetworking": true,
          "enableIPForwarding": false
        },
        "type": "Microsoft.Network/networkInterfaces"
      }
  - statusCode: "201"
    body: >-
      {
        "name": "test-nic",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/test-nic",
        "location": "eastus",
        "properties": {
          "provisioningState": "Succeeded",
          "ipConfigurations": [
            {
              "name": "ipconfig1",
              "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/networkInterfaces/test-nic/ipConfigurations/ipconfig1",
              "properties": {
                "provisioningState": "Succeeded",
                "privateIPAddress": "172.20.2.4",
                "privateIPAllocationMethod": "Dynamic",
                "publicIPAddress": {
                  "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/test-ip"
                },
                "subnet": {
                  "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/rg1-vnet/subnets/default"
                },
                "primary": true,
                "privateIPAddressVersion": "IPv4"
              }
            }
          ],
          "dnsSettings": {
            "dnsServers": [],
            "appliedDnsServers": []
          },
          "enableAcceleratedNetworking": true,
          "enableIPForwarding": false
        },
        "type": "Microsoft.Network/networkInterfaces"
      }
security:
- type: oauth2
  description: Azure Active Directory OAuth2 Flow
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
