{
  "swagger": "2.0",
  "info": {
    "title": "DiskResourceProviderClient",
    "description": "The Disk Resource Provider Client.",
    "version": "2017-03-30"
  },
  "host": "management.azure.com",
  "schemes": [
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "security": [
    {
      "azure_auth": [
        "user_impersonation"
      ]
    }
  ],
  "securityDefinitions": {
    "azure_auth": {
      "type": "oauth2",
      "authorizationUrl": "https://login.microsoftonline.com/common/oauth2/authorize",
      "flow": "implicit",
      "description": "Azure Active Directory OAuth2 Flow",
      "scopes": {
        "user_impersonation": "impersonate your user account"
      }
    }
  },
  "paths": {
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/disks": {
      "get": {
        "tags": [
          "Disks"
        ],
        "operationId": "Disks_ListByResourceGroup",
        "description": "Lists all the disks under a resource group.",
        "parameters": [
          {
            "$ref": "#/parameters/SubscriptionIdParameter"
          },
          {
            "$ref": "#/parameters/ResourceGroupNameParameter"
          },
          {
            "$ref": "#/parameters/ApiVersionParameter"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/DiskList"
            }
          }
        },
        "x-ms-examples": {
          "List all managed disks in a resource group.": {
            "$ref": "#/definitions/ListManagedDisksInAResourceGroup"
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "nextLink"
        },
        "x-internal-toc-name": "List By Resource Group"
      }
    }
  },
  "definitions": {
    "Resource": {
      "description": "The Resource model definition.",
      "properties": {
        "id": {
          "readOnly": true,
          "type": "string",
          "description": "Resource Id"
        },
        "name": {
          "readOnly": true,
          "type": "string",
          "description": "Resource name"
        },
        "type": {
          "readOnly": true,
          "type": "string",
          "description": "Resource type"
        },
        "location": {
          "type": "string",
          "description": "Resource location"
        },
        "tags": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "Resource tags"
        }
      },
      "required": [
        "location"
      ],
      "x-ms-azure-resource": true
    },
    "ResourceUpdate": {
      "description": "The Resource model definition.",
      "properties": {
        "tags": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          },
          "description": "Resource tags"
        },
        "sku": {
          "$ref": "#/definitions/DiskSku"
        }
      }
    },
    "Disk": {
      "properties": {
        "managedBy": {
          "readOnly": true,
          "type": "string",
          "description": "A relative URI containing the ID of the VM that has the disk attached."
        },
        "sku": {
          "$ref": "#/definitions/DiskSku"
        },
        "zones": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "The Logical zone list for Disk."
        },
        "properties": {
          "x-ms-client-flatten": true,
          "$ref": "#/definitions/DiskProperties"
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/Resource"
        }
      ],
      "description": "Disk resource."
    },
    "DiskUpdate": {
      "properties": {
        "properties": {
          "x-ms-client-flatten": true,
          "$ref": "#/definitions/DiskUpdateProperties"
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/ResourceUpdate"
        }
      ],
      "description": "Disk update resource."
    },
    "DiskList": {
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Disk"
          },
          "description": "A list of disks."
        },
        "nextLink": {
          "type": "string",
          "description": "The uri to fetch the next page of disks. Call ListNext() with this to fetch the next page of disks."
        }
      },
      "required": [
        "value"
      ],
      "description": "The List Disks operation response."
    },
    "DiskSku": {
      "properties": {
        "name": {
          "type": "string",
          "enum": [
            "Standard_LRS",
            "Premium_LRS"
          ],
          "x-ms-enum": {
            "name": "StorageAccountTypes",
            "modelAsString": false
          },
          "description": "The sku name."
        },
        "tier": {
          "type": "string",
          "readOnly": true,
          "default": "Standard",
          "description": "The sku tier."
        }
      },
      "description": "The disks and snapshots sku name. Can be Standard_LRS or Premium_LRS."
    },
    "DiskProperties": {
      "properties": {
        "timeCreated": {
          "readOnly": true,
          "type": "string",
          "format": "date-time",
          "description": "The time when the disk was created."
        },
        "osType": {
          "type": "string",
          "description": "The Operating System type.",
          "enum": [
            "Windows",
            "Linux"
          ],
          "x-ms-enum": {
            "name": "OperatingSystemTypes",
            "modelAsString": false
          }
        },
        "creationData": {
          "$ref": "#/definitions/CreationData",
          "description": "Disk source information. CreationData information cannot be changed after the disk has been created."
        },
        "diskSizeGB": {
          "type": "integer",
          "format": "int32",
          "description": "If creationData.createOption is Empty, this field is mandatory and it indicates the size of the VHD to create. If this field is present for updates or creation with other options, it indicates a resize. Resizes are only allowed if the disk is not attached to a running VM, and can only increase the disk's size."
        },
        "encryptionSettings": {
          "$ref": "#/definitions/EncryptionSettings",
          "description": "Encryption settings for disk or snapshot"
        },
        "provisioningState": {
          "readOnly": true,
          "type": "string",
          "description": "The disk provisioning state."
        }
      },
      "required": [
        "creationData"
      ],
      "description": "Disk resource properties."
    },
    "EncryptionSettings": {
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Set this flag to true and provide DiskEncryptionKey and optional KeyEncryptionKey to enable encryption. Set this flag to false and remove DiskEncryptionKey and KeyEncryptionKey to disable encryption. If EncryptionSettings is null in the request object, the existing settings remain unchanged."
        },
        "diskEncryptionKey": {
          "$ref": "#/definitions/KeyVaultAndSecretReference",
          "description": "Key Vault Secret Url and vault id of the disk encryption key"
        },
        "keyEncryptionKey": {
          "$ref": "#/definitions/KeyVaultAndKeyReference",
          "description": "Key Vault Key Url and vault id of the key encryption key"
        }
      },
      "description": "Encryption settings for disk or snapshot"
    },
    "KeyVaultAndSecretReference": {
      "properties": {
        "sourceVault": {
          "$ref": "#/definitions/SourceVault",
          "description": "Resource id of the KeyVault containing the key or secret"
        },
        "secretUrl": {
          "type": "string",
          "description": "Url pointing to a key or secret in KeyVault"
        }
      },
      "required": [
        "secretUrl",
        "sourceVault"
      ],
      "description": "Key Vault Secret Url and vault id of the encryption key "
    },
    "KeyVaultAndKeyReference": {
      "properties": {
        "sourceVault": {
          "$ref": "#/definitions/SourceVault",
          "description": "Resource id of the KeyVault containing the key or secret"
        },
        "keyUrl": {
          "type": "string",
          "description": "Url pointing to a key or secret in KeyVault"
        }
      },
      "required": [
        "keyUrl",
        "sourceVault"
      ],
      "description": "Key Vault Key Url and vault id of KeK, KeK is optional and when provided is used to unwrap the encryptionKey"
    },
    "SourceVault": {
      "properties": {
        "id": {
          "type": "string",
          "description": "Resource Id"
        }
      },
      "description": "The vault id is an Azure Resource Manager Resoure id in the form /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.KeyVault/vaults/{vaultName}"
    },
    "DiskUpdateProperties": {
      "properties": {
        "osType": {
          "type": "string",
          "description": "the Operating System type.",
          "enum": [
            "Windows",
            "Linux"
          ],
          "x-ms-enum": {
            "name": "OperatingSystemTypes",
            "modelAsString": false
          }
        },
        "diskSizeGB": {
          "type": "integer",
          "format": "int32",
          "description": "If creationData.createOption is Empty, this field is mandatory and it indicates the size of the VHD to create. If this field is present for updates or creation with other options, it indicates a resize. Resizes are only allowed if the disk is not attached to a running VM, and can only increase the disk's size."
        },
        "encryptionSettings": {
          "$ref": "#/definitions/EncryptionSettings",
          "description": "Encryption settings for disk or snapshot"
        }
      },
      "description": "Disk resource update properties."
    },
    "CreationData": {
      "properties": {
        "createOption": {
          "type": "string",
          "enum": [
            "Empty",
            "Attach",
            "FromImage",
            "Import",
            "Copy"
          ],
          "x-ms-enum": {
            "name": "DiskCreateOption",
            "modelAsString": false
          },
          "description": "This enumerates the possible sources of a disk's creation."
        },
        "storageAccountId": {
          "type": "string",
          "description": "If createOption is Import, the Azure Resource Manager identifier of the storage account containing the blob to import as a disk. Required only if the blob is in a different subscription"
        },
        "imageReference": {
          "$ref": "#/definitions/ImageDiskReference",
          "description": "Disk source information."
        },
        "sourceUri": {
          "type": "string",
          "description": "If createOption is Import, this is the URI of a blob to be imported into a managed disk."
        },
        "sourceResourceId": {
          "type": "string",
          "description": "If createOption is Copy, this is the ARM id of the source snapshot or disk."
        }
      },
      "required": [
        "createOption"
      ],
      "description": "Data used when creating a disk."
    },
    "ImageDiskReference": {
      "properties": {
        "id": {
          "type": "string",
          "description": "A relative uri containing either a Platform Imgage Repository or user image reference."
        },
        "lun": {
          "type": "integer",
          "format": "int32",
          "description": "If the disk is created from an image's data disk, this is an index that indicates which of the data disks in the image to use. For OS disks, this field is null."
        }
      },
      "required": [
        "id"
      ],
      "description": "The source image used for creating the disk."
    },
    "GrantAccessData": {
      "properties": {
        "access": {
          "type": "string",
          "enum": [
            "None",
            "Read"
          ],
          "x-ms-enum": {
            "name": "AccessLevel",
            "modelAsString": false
          }
        },
        "durationInSeconds": {
          "type": "integer",
          "format": "int32",
          "description": "Time duration in seconds until the SAS access expires."
        }
      },
      "required": [
        "access",
        "durationInSeconds"
      ],
      "description": "Data used for requesting a SAS."
    },
    "AccessUri": {
      "properties": {
        "properties": {
          "x-ms-client-flatten": true,
          "$ref": "#/definitions/AccessUriOutput",
          "description": "Operation output data (raw JSON)"
        }
      },
      "description": "A disk access SAS uri."
    },
    "AccessUriOutput": {
      "properties": {
        "output": {
          "x-ms-client-flatten": true,
          "$ref": "#/definitions/AccessUriRaw",
          "description": "Operation output data (raw JSON)"
        }
      },
      "description": "Azure properties, including output."
    },
    "AccessUriRaw": {
      "properties": {
        "accessSAS": {
          "readOnly": true,
          "type": "string",
          "description": "A SAS uri for accessing a disk."
        }
      },
      "description": "This object gets 'bubbled up' through flattening."
    },
    "Snapshot": {
      "properties": {
        "managedBy": {
          "readOnly": true,
          "type": "string",
          "description": "Unused. Always Null."
        },
        "sku": {
          "$ref": "#/definitions/DiskSku"
        },
        "properties": {
          "x-ms-client-flatten": true,
          "$ref": "#/definitions/DiskProperties"
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/Resource"
        }
      ],
      "description": "Snapshot resource."
    },
    "SnapshotUpdate": {
      "properties": {
        "properties": {
          "x-ms-client-flatten": true,
          "$ref": "#/definitions/DiskUpdateProperties"
        }
      },
      "allOf": [
        {
          "$ref": "#/definitions/ResourceUpdate"
        }
      ],
      "description": "Snapshot update resource."
    },
    "SnapshotList": {
      "properties": {
        "value": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Snapshot"
          },
          "description": "A list of snapshots."
        },
        "nextLink": {
          "type": "string",
          "description": "The uri to fetch the next page of snapshots. Call ListNext() with this to fetch the next page of snapshots."
        }
      },
      "required": [
        "value"
      ],
      "description": "The List Snapshots operation response."
    },
    "ApiErrorBase": {
      "properties": {
        "code": {
          "type": "string",
          "description": "The error code."
        },
        "target": {
          "type": "string",
          "description": "The target of the particular error."
        },
        "message": {
          "type": "string",
          "description": "The error message."
        }
      },
      "description": "Api error base."
    },
    "InnerError": {
      "properties": {
        "exceptiontype": {
          "type": "string",
          "description": "The exception type."
        },
        "errordetail": {
          "type": "string",
          "description": "The internal error message or exception dump."
        }
      },
      "description": "Inner error details."
    },
    "ApiError": {
      "properties": {
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ApiErrorBase"
          },
          "description": "The Api error details"
        },
        "innererror": {
          "$ref": "#/definitions/InnerError",
          "description": "The Api inner error"
        },
        "code": {
          "type": "string",
          "description": "The error code."
        },
        "target": {
          "type": "string",
          "description": "The target of the particular error."
        },
        "message": {
          "type": "string",
          "description": "The error message."
        }
      },
      "description": "Api error."
    },
    "OperationStatusResponse": {
      "properties": {
        "name": {
          "readOnly": true,
          "type": "string",
          "description": "Operation ID"
        },
        "status": {
          "readOnly": true,
          "type": "string",
          "description": "Operation status"
        },
        "startTime": {
          "readOnly": true,
          "type": "string",
          "format": "date-time",
          "description": "Start time of the operation"
        },
        "endTime": {
          "readOnly": true,
          "type": "string",
          "format": "date-time",
          "description": "End time of the operation"
        },
        "error": {
          "readOnly": true,
          "$ref": "#/definitions/ApiError",
          "description": "Api error"
        }
      },
      "description": "Operation status response"
    },
    "CreateAnEmptyManagedDisk": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "diskName": "myDisk",
        "disk": {
          "name": "myDisk",
          "location": "West US",
          "properties": {
            "creationData": {
              "createOption": "Empty"
            },
            "diskSizeGB": 200
          }
        }
      },
      "responses": {
        "202": {
          "body": {
            "properties": {
              "creationData": {
                "createOption": "Empty"
              },
              "diskSizeGB": 200,
              "provisioningState": "Updating"
            },
            "location": "West US",
            "name": "myDisk"
          }
        }
      }
    },
    "CreateAManagedDiskFromAPlatformImage": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "diskName": "myDisk",
        "disk": {
          "name": "myDisk",
          "location": "West US",
          "properties": {
            "osType": "Windows",
            "creationData": {
              "createOption": "FromImage",
              "imageReference": {
                "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}"
              }
            }
          }
        }
      },
      "responses": {
        "202": {
          "body": {
            "name": "myDisk",
            "location": "West US",
            "properties": {
              "provisioningState": "Updating",
              "osType": "Windows",
              "creationData": {
                "createOption": "FromImage",
                "imageReference": {
                  "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}"
                }
              }
            }
          }
        }
      }
    },
    "CreateAManagedDiskFromAnExistingManagedDisk": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "diskName": "myDisk2",
        "disk": {
          "name": "myDisk2",
          "location": "West US",
          "properties": {
            "creationData": {
              "createOption": "Copy",
              "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk1"
            }
          }
        }
      },
      "responses": {
        "202": {
          "body": {
            "properties": {
              "creationData": {
                "createOption": "Copy",
                "sourceResourceId": "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myDisk1"
              },
              "provisioningState": "Updating"
            },
            "location": "West US",
            "name": "myDisk2"
          }
        }
      }
    },
    "CreateAManagedDiskByImportingAnUnmanagedBlobFromTheSameSubscription": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "diskName": "myDisk",
        "disk": {
          "name": "myDisk",
          "location": "West US",
          "properties": {
            "creationData": {
              "createOption": "Import",
              "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
            }
          }
        }
      },
      "responses": {
        "202": {
          "body": {
            "name": "myDisk",
            "location": "West US",
            "properties": {
              "provisioningState": "Updating",
              "creationData": {
                "createOption": "Import",
                "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
              }
            }
          }
        }
      }
    },
    "CreateAManagedDiskByImportingAnUnmanagedBlobFromADifferentSubscription": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "diskName": "myDisk",
        "disk": {
          "name": "myDisk",
          "location": "West US",
          "properties": {
            "creationData": {
              "createOption": "Import",
              "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
              "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
            }
          }
        }
      },
      "responses": {
        "202": {
          "body": {
            "name": "myDisk",
            "location": "West US",
            "properties": {
              "provisioningState": "Updating",
              "creationData": {
                "createOption": "Import",
                "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
                "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
              }
            }
          }
        }
      }
    },
    "CreateAManagedDiskByCopyingASnapshot": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "diskName": "myDisk",
        "disk": {
          "name": "myDisk",
          "location": "West US",
          "properties": {
            "creationData": {
              "createOption": "Copy",
              "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot"
            }
          }
        }
      },
      "responses": {
        "202": {
          "body": {
            "name": "myDisk",
            "location": "West US",
            "properties": {
              "provisioningState": "Updating",
              "creationData": {
                "createOption": "Copy",
                "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot"
              }
            }
          }
        }
      }
    },
    "GetInformationAboutAManagedDisk": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "diskName": "myManagedDisk"
      },
      "responses": {
        "200": {
          "body": {
            "managedBy": "/subscriptions/123caaa-123v-v211-a49f-f88ccac5bf88/resourceGroups/ResourceGroupName/providers/Microsoft.Compute/virtualMachines/TestVM414689371c88843d65ec",
            "sku": {
              "name": "Standard_LRS"
            },
            "properties": {
              "osType": "Windows",
              "creationData": {
                "createOption": "Empty"
              },
              "diskSizeGB": 10,
              "encryptionSettings": {
                "enabled": true,
                "diskEncryptionKey": {
                  "sourceVault": {
                    "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                  },
                  "secretUrl": "https://myvmvault.vault-int.azure-int.net/secrets/{secret}"
                },
                "keyEncryptionKey": {
                  "sourceVault": {
                    "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                  },
                  "keyUrl": "https://myvmvault.vault-int.azure-int.net/keys/{key}"
                }
              },
              "timeCreated": "2016-12-28T12:41:35.079872+08:00",
              "provisioningState": "Succeeded"
            },
            "type": "Microsoft.Compute/disks",
            "location": "westus",
            "tags": {
              "department": "Development",
              "project": "ManagedDisks"
            },
            "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk",
            "name": "myManagedDisk"
          }
        }
      }
    },
    "ListManagedDisksInAResourceGroup": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30"
      },
      "responses": {
        "200": {
          "body": {
            "value": [
              {
                "properties": {
                  "osType": "Windows",
                  "creationData": {
                    "createOption": "Copy",
                    "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk"
                  },
                  "diskSizeGB": 200,
                  "encryptionSettings": {
                    "enabled": true,
                    "diskEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "secretUrl": "https://myvmvault.vault-int.azure-int.net/secrets/{secret}"
                    },
                    "keyEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "keyUrl": "https://myvmvault.vault-int.azure-int.net/keys/{key}"
                    }
                  },
                  "timeCreated": "2016-12-28T12:41:35.9278721+08:00",
                  "provisioningState": "Succeeded"
                },
                "type": "Microsoft.Compute/disks",
                "location": "westus",
                "tags": {
                  "department": "Development",
                  "project": "ManagedDisks"
                },
                "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk",
                "name": "myManagedDisk"
              },
              {
                "properties": {
                  "osType": "Windows",
                  "creationData": {
                    "createOption": "Empty"
                  },
                  "diskSizeGB": 10,
                  "timeCreated": "2016-12-28T12:41:36.872242+08:00",
                  "provisioningState": "Succeeded"
                },
                "type": "Microsoft.Compute/disks",
                "location": "westus",
                "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk",
                "name": "myManagedDisk"
              },
              {
                "properties": {
                  "osType": "Windows",
                  "creationData": {
                    "createOption": "FromImage",
                    "imageReference": {
                      "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}"
                    }
                  },
                  "diskSizeGB": 200,
                  "encryptionSettings": {
                    "enabled": true,
                    "diskEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "secretUrl": "https://myvmvault.vault-int.azure-int.net/secrets/{secret}"
                    },
                    "keyEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "keyUrl": "https://myvmvault.vault-int.azure-int.net/keys/{key}"
                    }
                  },
                  "timeCreated": "2016-12-28T12:41:36.3973934+08:00",
                  "provisioningState": "Succeeded"
                },
                "type": "Microsoft.Compute/disks",
                "location": "westus",
                "tags": {
                  "department": "Development",
                  "project": "ManagedDisks"
                },
                "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk",
                "name": "myManagedDisk"
              }
            ],
            "nextLink": "http://disksvchost:99/subscriptions/{subscriptionId}/providers/Microsoft.Compute/disks?$skiptoken={token}/Subscriptions/{subscriptionId}/ResourceGroups/myResourceGroup/Disks/myManagedDisk"
          }
        }
      }
    },
    "ListManagedDisksInASubscription": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "api-version": "2017-03-30"
      },
      "responses": {
        "200": {
          "body": {
            "value": [
              {
                "properties": {
                  "osType": "Windows",
                  "creationData": {
                    "createOption": "Copy",
                    "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk1"
                  },
                  "diskSizeGB": 200,
                  "encryptionSettings": {
                    "enabled": true,
                    "diskEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "secretUrl": "https://myvmvault.vault-int.azure-int.net/secrets/{secret}"
                    },
                    "keyEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "keyUrl": "https://myvmvault.vault-int.azure-int.net/keys/{key}"
                    }
                  },
                  "timeCreated": "2016-12-28T12:41:35.9278721+08:00",
                  "provisioningState": "Succeeded"
                },
                "type": "Microsoft.Compute/disks",
                "location": "westus",
                "tags": {
                  "department": "Development",
                  "project": "ManagedDisks"
                },
                "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk1",
                "name": "myManagedDisk1"
              },
              {
                "properties": {
                  "osType": "Windows",
                  "creationData": {
                    "createOption": "Empty"
                  },
                  "diskSizeGB": 10,
                  "timeCreated": "2016-12-28T12:41:36.872242+08:00",
                  "provisioningState": "Succeeded"
                },
                "type": "Microsoft.Compute/disks",
                "location": "westus",
                "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk2",
                "name": "myManagedDisk2"
              },
              {
                "properties": {
                  "osType": "Windows",
                  "creationData": {
                    "createOption": "FromImage",
                    "imageReference": {
                      "id": "/Subscriptions/{subscriptionId}/Providers/Microsoft.Compute/Locations/uswest/Publishers/Microsoft/ArtifactTypes/VMImage/Offers/{offer}"
                    }
                  },
                  "diskSizeGB": 200,
                  "encryptionSettings": {
                    "enabled": true,
                    "diskEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "secretUrl": "https://myvmvault.vault-int.azure-int.net/secrets/{secret}"
                    },
                    "keyEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "keyUrl": "https://myvmvault.vault-int.azure-int.net/keys/{key}"
                    }
                  },
                  "timeCreated": "2016-12-28T12:41:36.3973934+08:00",
                  "provisioningState": "Succeeded"
                },
                "type": "Microsoft.Compute/disks",
                "location": "westus",
                "tags": {
                  "department": "Development",
                  "project": "ManagedDisks"
                },
                "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/disks/myManagedDisk3",
                "name": "myManagedDisk3"
              }
            ],
            "nextLink": "http://disksvchost:99/subscriptions/{subscriptionId}/providers/Microsoft.Compute/disks?$skiptoken={token}/Subscriptions/{subscriptionId}/ResourceGroups/myResourceGroup/Disks/myManagedDisk"
          }
        }
      }
    },
    "CreateASnapshotFromAnExistingSnapshot": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "snapshotName": "mySnapshot2",
        "snapshot": {
          "name": "mySnapshot2",
          "location": "West US",
          "properties": {
            "creationData": {
              "createOption": "Copy",
              "sourceResourceId": "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot1"
            }
          }
        }
      },
      "responses": {
        "202": {
          "body": {
            "name": "mySnapshot2",
            "location": "West US",
            "properties": {
              "provisioningState": "Updating",
              "creationData": {
                "createOption": "Copy",
                "sourceResourceId": "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot1"
              }
            }
          }
        }
      }
    },
    "CreateASnapshotByImportingAnUnmanagedBlobFromTheSameSubscription": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "snapshotName": "mySnapshot1",
        "snapshot": {
          "name": "mySnapshot1",
          "location": "West US",
          "properties": {
            "creationData": {
              "createOption": "Import",
              "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
            }
          }
        }
      },
      "responses": {
        "202": {
          "body": {
            "properties": {
              "creationData": {
                "createOption": "Import",
                "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
              },
              "provisioningState": "Updating"
            },
            "location": "West US",
            "name": "mySnapshot1"
          }
        }
      }
    },
    "CreateASnapshotByImportingAnUnmanagedBlobFromADifferentSubscription": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "snapshotName": "mySnapshot1",
        "snapshot": {
          "name": "mySnapshot1",
          "location": "West US",
          "properties": {
            "creationData": {
              "createOption": "Import",
              "storageAccountId": "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
              "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
            }
          }
        }
      },
      "responses": {
        "202": {
          "body": {
            "properties": {
              "creationData": {
                "createOption": "Import",
                "storageAccountId": "subscriptions/{subscription-id}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
                "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
              },
              "provisioningState": "Updating"
            },
            "location": "West US",
            "name": "mySnapshot1"
          }
        }
      }
    },
    "GetInformationAboutASnapshot": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30",
        "snapshotName": "mySnapshot"
      },
      "responses": {
        "200": {
          "body": {
            "properties": {
              "osType": "Windows",
              "creationData": {
                "createOption": "Empty"
              },
              "diskSizeGB": 100,
              "encryptionSettings": {
                "enabled": true,
                "diskEncryptionKey": {
                  "sourceVault": {
                    "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                  },
                  "secretUrl": "https://myvmvault.vault-int.azure-int.net/secrets/{secret}"
                },
                "keyEncryptionKey": {
                  "sourceVault": {
                    "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                  },
                  "keyUrl": "https://myvmvault.vault-int.azure-int.net/keys/{key}"
                }
              },
              "timeCreated": "2016-12-28T12:41:35.079872+08:00",
              "provisioningState": "Succeeded"
            },
            "type": "Microsoft.Compute/snapshots",
            "location": "westus",
            "tags": {
              "department": "Development",
              "project": "Snapshots"
            },
            "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot",
            "name": "mySnapshot"
          }
        }
      }
    },
    "ListSnapshotsInAResourceGroup": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "resourceGroupName": "myResourceGroup",
        "api-version": "2017-03-30"
      },
      "responses": {
        "200": {
          "body": {
            "value": [
              {
                "properties": {
                  "osType": "Windows",
                  "creationData": {
                    "createOption": "Copy",
                    "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot"
                  },
                  "diskSizeGB": 200,
                  "encryptionSettings": {
                    "enabled": true,
                    "diskEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "secretUrl": "https://myvmvault.vault-int.azure-int.net/secrets/{secret}"
                    },
                    "keyEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "keyUrl": "https://myvmvault.vault-int.azure-int.net/keys/{key}"
                    }
                  },
                  "timeCreated": "2016-12-28T12:41:35.9278721+08:00",
                  "provisioningState": "Succeeded"
                },
                "type": "Microsoft.Compute/snapshots",
                "location": "westus",
                "tags": {
                  "department": "Development",
                  "project": "Snapshots"
                },
                "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot",
                "name": "mySnapshot"
              }
            ]
          }
        }
      }
    },
    "ListSnapshotsInASubscription": {
      "parameters": {
        "subscriptionId": "{subscription-id}",
        "api-version": "2017-03-30"
      },
      "responses": {
        "200": {
          "body": {
            "value": [
              {
                "properties": {
                  "osType": "Windows",
                  "creationData": {
                    "createOption": "Copy",
                    "sourceResourceId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot"
                  },
                  "diskSizeGB": 200,
                  "encryptionSettings": {
                    "enabled": true,
                    "diskEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "secretUrl": "https://myvmvault.vault-int.azure-int.net/secrets/{secret}"
                    },
                    "keyEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "keyUrl": "https://myvmvault.vault-int.azure-int.net/keys/{key}"
                    }
                  },
                  "timeCreated": "2016-12-28T12:47:30.6630569+08:00",
                  "provisioningState": "Succeeded"
                },
                "type": "Microsoft.Compute/snapshots",
                "location": "westus",
                "tags": {
                  "department": "Development",
                  "project": "Snapshots"
                },
                "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot1",
                "name": "mySnapshot1"
              },
              {
                "properties": {
                  "osType": "Windows",
                  "creationData": {
                    "createOption": "Import",
                    "storageAccountId": "subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Storage/storageAccounts/myStorageAccount",
                    "sourceUri": "https://mystorageaccount.blob.core.windows.net/osimages/osimage.vhd"
                  },
                  "diskSizeGB": 200,
                  "encryptionSettings": {
                    "enabled": true,
                    "diskEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "secretUrl": "https://myvmvault.vault-int.azure-int.net/secrets/{secret}"
                    },
                    "keyEncryptionKey": {
                      "sourceVault": {
                        "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.KeyVault/vaults/myVMVault"
                      },
                      "keyUrl": "https://myvmvault.vault-int.azure-int.net/keys/{key}"
                    }
                  },
                  "timeCreated": "2016-12-28T12:47:30.3247198+08:00",
                  "provisioningState": "Succeeded"
                },
                "type": "Microsoft.Compute/snapshots",
                "location": "westus",
                "tags": {
                  "department": "Development",
                  "project": "Snapshots"
                },
                "id": "/subscriptions/{subscriptionId}/resourceGroups/myResourceGroup/providers/Microsoft.Compute/snapshots/mySnapshot2",
                "name": "mySnapshot2"
              }
            ]
          }
        }
      }
    }
  },
  "parameters": {
    "SubscriptionIdParameter": {
      "name": "subscriptionId",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "Subscription credentials which uniquely identify Microsoft Azure subscription. The subscription ID forms part of the URI for every service call."
    },
    "ApiVersionParameter": {
      "name": "api-version",
      "in": "query",
      "required": true,
      "type": "string",
      "description": "Client Api Version."
    },
    "ResourceGroupNameParameter": {
      "name": "resourceGroupName",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The name of the resource group.",
      "x-ms-parameter-location": "method"
    },
    "DiskNameParameter": {
      "name": "diskName",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The name of the managed disk that is being created. The name can't be changed after the disk is created. Supported characters for the name are a-z, A-Z, 0-9 and _. The maximum name length is 80 characters.",
      "x-ms-parameter-location": "method"
    },
    "SnapshotNameParameter": {
      "name": "snapshotName",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The name of the snapshot that is being created. The name can't be changed after the snapshot is created. Supported characters for the name are a-z, A-Z, 0-9 and _. The max name length is 80 characters.",
      "x-ms-parameter-location": "method"
    }
  },
  "x-internal-service-name": "Compute",
  "x-internal-toc-name": "Disks",
  "x-internal-split-type": "Operation",
  "x-internal-operation-name": "List By Resource Group"
}