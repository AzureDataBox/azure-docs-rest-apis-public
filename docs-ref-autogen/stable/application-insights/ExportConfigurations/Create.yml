### YamlMime:RESTOperation
uid: management.azure.com.application-insights.exportconfigurations.create
name: Create
service: Application Insights
groupName: Export Configurations
apiVersion: 2015-05-01
summary: Create a Continuous Export configuration of an Application Insights component.
consumes:
- application/json
produces:
- application/json
paths:
- content: POST https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Insights/components/{resourceName}/exportconfiguration?api-version=2015-05-01
uriParameters:
- name: subscriptionId
  in: path
  isRequired: true
  description: The Azure subscription ID.
  types:
  - uid: string
- name: resourceGroupName
  in: path
  isRequired: true
  description: The name of the resource group.
  types:
  - uid: string
- name: resourceName
  in: path
  isRequired: true
  description: The name of the Application Insights component resource.
  types:
  - uid: string
- name: api-version
  in: query
  isRequired: true
  description: Client Api Version.
  types:
  - uid: string
responses:
- name: 200 OK
  description: A list containing the Continuous Export configuration definition created by this POST call.
  types:
  - uid: ApplicationInsightsComponentExportConfiguration
    isArray: true
requestBody:
- parameters:
  - name: RecordTypes
    in: body
    description: The document types to be exported, as comma separated values. Allowed values include 'Requests', 'Event', 'Exceptions', 'Metrics', 'PageViews', 'PageViewPerformance', 'Rdd', 'PerformanceCounters', 'Availability', 'Messages'.
    types:
    - uid: string
  - name: DestinationType
    in: body
    description: The Continuous Export destination type. This has to be 'Blob'.
    types:
    - uid: string
  - name: DestinationAddress
    in: body
    description: The SAS URL for the destination storage container. It must grant write permission.
    types:
    - uid: string
  - name: IsEnabled
    in: body
    description: Set to 'true' to create a Continuous Export configuration as enabled, otherwise set it to 'false'.
    types:
    - uid: string
  - name: NotificationQueueEnabled
    in: body
    description: Deprecated
    types:
    - uid: string
  - name: NotificationQueueUri
    in: body
    description: Deprecated
    types:
    - uid: string
  - name: DestinationStorageSubscriptionId
    in: body
    description: The subscription ID of the destination storage container.
    types:
    - uid: string
  - name: DestinationStorageLocationId
    in: body
    description: The location ID of the destination storage container.
    types:
    - uid: string
  - name: DestinationAccountId
    in: body
    description: The name of destination storage account.
    types:
    - uid: string
requestHeader: []
definitions:
- name: ApplicationInsightsComponentExportConfiguration
  description: Properties that define a Continuous Export configuration.
  kind: object
  properties:
  - name: ExportId
    isReadyOnly: true
    description: The unique ID of the export configuration inside an Applciation Insights component. It is auto generated when the Continuous Export configuration is created.
    types:
    - uid: string
  - name: InstrumentationKey
    isReadyOnly: true
    description: The instrumentation key of the Application Insights component.
    types:
    - uid: string
  - name: RecordTypes
    description: This comma separated list of document types that will be exported. The possible values include 'Requests', 'Event', 'Exceptions', 'Metrics', 'PageViews', 'PageViewPerformance', 'Rdd', 'PerformanceCounters', 'Availability', 'Messages'.
    types:
    - uid: string
  - name: ApplicationName
    isReadyOnly: true
    description: The name of the Application Insights component.
    types:
    - uid: string
  - name: SubscriptionId
    isReadyOnly: true
    description: The subscription of the Application Insights component.
    types:
    - uid: string
  - name: ResourceGroup
    isReadyOnly: true
    description: The resource group of the Application Insights component.
    types:
    - uid: string
  - name: DestinationStorageSubscriptionId
    isReadyOnly: true
    description: The destination storage account subscription ID.
    types:
    - uid: string
  - name: DestinationStorageLocationId
    isReadyOnly: true
    description: The destination account location ID.
    types:
    - uid: string
  - name: DestinationAccountId
    isReadyOnly: true
    description: The name of destination account.
    types:
    - uid: string
  - name: DestinationType
    isReadyOnly: true
    description: The destination type.
    types:
    - uid: string
  - name: IsUserEnabled
    isReadyOnly: true
    description: This will be 'true' if the Continuous Export configuration is enabled, otherwise it will be 'false'.
    types:
    - uid: string
  - name: LastUserUpdate
    isReadyOnly: true
    description: Last time the Continuous Export configuration was updated.
    types:
    - uid: string
  - name: NotificationQueueEnabled
    description: Deprecated
    types:
    - uid: string
  - name: ExportStatus
    isReadyOnly: true
    description: This indicates current Continuous Export configuration status. The possible values are 'Preparing', 'Success', 'Failure'.
    types:
    - uid: string
  - name: LastSuccessTime
    isReadyOnly: true
    description: The last time data was successfully delivered to the destination storage container for this Continuous Export configuration.
    types:
    - uid: string
  - name: LastGapTime
    isReadyOnly: true
    description: The last time the Continuous Export configuration started failing.
    types:
    - uid: string
  - name: PermanentErrorReason
    isReadyOnly: true
    description: This is the reason the Continuous Export configuration started failing. It can be 'AzureStorageNotFound' or 'AzureStorageAccessDenied'.
    types:
    - uid: string
  - name: StorageName
    isReadyOnly: true
    description: The name of the destination storage account.
    types:
    - uid: string
  - name: ContainerName
    isReadyOnly: true
    description: The name of the destination storage container.
    types:
    - uid: string
- name: ApplicationInsightsComponentExportRequest
  description: An Application Insights component Continuous Export configuration request definition.
  kind: object
  properties:
  - name: RecordTypes
    description: The document types to be exported, as comma separated values. Allowed values include 'Requests', 'Event', 'Exceptions', 'Metrics', 'PageViews', 'PageViewPerformance', 'Rdd', 'PerformanceCounters', 'Availability', 'Messages'.
    types:
    - uid: string
  - name: DestinationType
    description: The Continuous Export destination type. This has to be 'Blob'.
    types:
    - uid: string
  - name: DestinationAddress
    description: The SAS URL for the destination storage container. It must grant write permission.
    types:
    - uid: string
  - name: IsEnabled
    description: Set to 'true' to create a Continuous Export configuration as enabled, otherwise set it to 'false'.
    types:
    - uid: string
  - name: NotificationQueueEnabled
    description: Deprecated
    types:
    - uid: string
  - name: NotificationQueueUri
    description: Deprecated
    types:
    - uid: string
  - name: DestinationStorageSubscriptionId
    description: The subscription ID of the destination storage container.
    types:
    - uid: string
  - name: DestinationStorageLocationId
    description: The location ID of the destination storage container.
    types:
    - uid: string
  - name: DestinationAccountId
    description: The name of destination storage account.
    types:
    - uid: string
examples:
- name: ExportConfigurationPost
  request:
    uri: POST https://management.azure.com/subscriptions/subid/resourceGroups/my-resource-group/providers/Microsoft.Insights/components/my-component/exportconfiguration?api-version=2015-05-01
    body: >-
      {
        "RecordTypes": "Requests, Event, Exceptions, Metrics, PageViews, PageViewPerformance, Rdd, PerformanceCounters, Availability",
        "DestinationType": "Blob",
        "DestinationAddress": "https://mystorageblob.blob.core.windows.net/testexport?sv=2015-04-05&sr=c&sig=token",
        "IsEnabled": "true",
        "NotificationQueueEnabled": "false",
        "NotificationQueueUri": "",
        "DestinationStorageSubscriptionId": "subid",
        "DestinationStorageLocationId": "eastus",
        "DestinationAccountId": "/subscriptions/subid/resourceGroups/my-resource-group/providers/Microsoft.ClassicStorage/storageAccounts/mystorageblob"
      }
  responses:
  - statusCode: "200"
    body: >-
      [
        {
          "ExportId": "uGOoki0jQsyEs3IdQ83Q4QsNr4=",
          "InstrumentationKey": "8330b4a4-0b8e-40cf-a643-bbaf60d375c9",
          "RecordTypes": "Requests, Event, Exceptions, Metrics, PageViews, PageViewPerformance, Rdd, PerformanceCounters, Availability",
          "ApplicationName": "my-component",
          "SubscriptionId": "subid",
          "ResourceGroup": "2",
          "DestinationStorageSubscriptionId": "subidc",
          "DestinationStorageLocationId": "eastasia",
          "DestinationAccountId": "/subscriptions/subid/resourceGroups/my-resource-group/providers/Microsoft.Storage/storageAccounts/mystorageblob",
          "DestinationType": "Blob",
          "IsUserEnabled": "False",
          "LastUserUpdate": "2017-06-05T06:34:26.957Z",
          "NotificationQueueEnabled": "False",
          "ExportStatus": "Preparing",
          "LastSuccessTime": "9999-12-31T23:59:59.999Z",
          "LastGapTime": "9999-12-31T23:59:59.999Z",
          "PermanentErrorReason": "None",
          "StorageName": "mystorageblob",
          "ContainerName": "mystorageblob"
        }
      ]
security:
- type: oauth2
  description: Azure Active Directory OAuth2 Flow.
  flow: implicit
  authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
  scopes:
  - name: user_impersonation
    description: impersonate your user account
